<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Apache jUDDI Client and GUI Guide</title><link rel="stylesheet" type="text/css" href="css/jbossorg.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><div xml:lang="en" class="book" title="Apache jUDDI Client and GUI Guide"><div class="titlepage"><div><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><div><h1 class="title"><a id="d5e1"/>Apache jUDDI Client and GUI Guide</h1></div><div><div class="authorgroup">

    <div class="author"><h3 class="author"><span class="firstname">Kurt</span> <span class="othername">T</span> <span class="surname">Stam</span></h3><div class="affiliation">
      <span class="shortaffil">RedHat<br/></span>
      <span class="jobtitle">Enterprise Integration Magician (EIM)<br/></span>
      <span class="orgname">Red Hat, Inc.<br/></span>
       <span class="orgdiv"><a class="ulink" href="http://www.jboss.org/overlord">SOA Governance</a><br/></span>
      <div class="authorblurb">
      <p>
        Open Source, written by domain experts.
      </p>
    </div>

    </div></div>

    <div class="author"><h3 class="author"><span class="firstname">Alex</span> <span class="surname">O'Ree</span></h3><div class="affiliation">
      <span class="shortaffil">Apache Software Foundation (ASF)<br/></span>
      <span class="orgname">Apache Software Foundation (ASF), http://juddi.apache.org<br/></span>
    </div></div>

     </div></div><div><p class="copyright">Copyright © 2003-2014 The Apache Software Foundation</p></div><div><a href="ln-d5e27.html">Legal Notice</a></div></div><hr/></div><div class="dedication" title="Dedication"><div class="titlepage"><div><div><h2 class="title"><a id="_dedication"/>Dedication</h2></div></div></div>

<p>We’d like to dedicate this guide to Steve Viens and Andy Cutright who started this project back in 2003.</p>
</div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="preface"><a href="#_preface">Preface</a></span></dt><dt><span class="chapter"><a href="#_simple_publishing_using_the_juddi_api">1. Simple Publishing Using the jUDDI API</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddi_data_model">1.1. UDDI Data Model</a></span></dt><dt><span class="section"><a href="#_juddi_additions_to_the_model">1.2. jUDDI Additions to the Model</a></span></dt><dt><span class="section"><a href="#_uddi_and_juddi_api">1.3. UDDI and jUDDI API</a></span></dt><dt><span class="section"><a href="#_getting_started">1.4. Getting Started</a></span></dt><dd><dl><dt><span class="section"><a href="#_simple_publishing_example">1.4.1. Simple Publishing Example</a></span></dt><dt><span class="section"><a href="#_about_uddi_entity_keys">1.4.2. About UDDI Entity Keys</a></span></dt></dl></dd><dt><span class="section"><a href="#_a_few_tips_on_adding_binding_templates">1.5. A few tips on adding Binding Templates</a></span></dt><dt><span class="section"><a href="#_conclusion">1.6. Conclusion</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_juddi_client_configuration_guide">2. jUDDI Client Configuration Guide</a></span></dt><dd><dl><dt><span class="section"><a href="#_introduction">2.1. Introduction</a></span></dt><dt><span class="section"><a href="#_client_settings">2.2. Client Settings</a></span></dt><dt><span class="section"><a href="#_nodes">2.3. Nodes</a></span></dt><dd><dl><dt><span class="section"><a href="#_transport_options">2.3.1. Transport Options</a></span></dt></dl></dd><dt><span class="section"><a href="#_clerks">2.4. Clerks</a></span></dt><dt><span class="section"><a href="#_clerk">2.5. Clerk</a></span></dt><dt><span class="section"><a href="#_digital_signatures">2.6. Digital Signatures</a></span></dt><dt><span class="section"><a href="#_subscription_callbacks">2.7. Subscription Callbacks</a></span></dt><dt><span class="section"><a href="#_xtowsdl">2.8. XtoWsdl</a></span></dt><dt><span class="section"><a href="#_embedded_juddi_server">2.9. Embedded jUDDI server</a></span></dt><dd><dl><dt><span class="section"><a href="#_requirements">2.9.1. Requirements</a></span></dt><dt><span class="section"><a href="#_changes_in_configuration_compared_to_non_embedded">2.9.2. Changes in configuration compared to non-embedded</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#chapter-KeyFormatTemplates">3. Key Format Templates</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddiv3_key_format">3.1. UDDIv3 key format</a></span></dt><dt><span class="section"><a href="#_juddi_key_format_templates">3.2. jUDDI key format templates</a></span></dt><dd><dl><dt><span class="section"><a href="#_advantages_of_using_a_template">3.2.1. Advantages of using a template</a></span></dt><dt><span class="section"><a href="#_default_uddikeyconvention_key_templates">3.2.2. Default UDDIKeyConvention Key Templates</a></span></dt><dt><span class="section"><a href="#_how_to_use_the_templates">3.2.3. How to use the templates?</a></span></dt><dt><span class="section"><a href="#_where_to_define_to_properties">3.2.4. Where to define to properties?</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#chapter-UsingTheJUDDIGUI">4. Using the jUDDI GUI</a></span></dt><dd><dl><dt><span class="section"><a href="#_requirements_2">4.1. Requirements</a></span></dt><dt><span class="section"><a href="#_tasks">4.2. Tasks</a></span></dt><dd><dl><dt><span class="section"><a href="#_your_first_sign_on">4.2.1. Your first sign on</a></span></dt></dl></dd><dt><span class="section"><a href="#_the_menu_bar">4.3. The Menu Bar</a></span></dt><dt><span class="section"><a href="#_logging_in_to_uddi_services">4.4. Logging in to UDDI Services</a></span></dt><dt><span class="section"><a href="#_logging_out">4.5. Logging Out</a></span></dt><dt><span class="section"><a href="#_discover_browse_uddi">4.6. Discover (Browse UDDI)</a></span></dt><dd><dl><dt><span class="section"><a href="#_business_browser">4.6.1. Business Browser</a></span></dt><dt><span class="section"><a href="#_service_browser">4.6.2. Service Browser</a></span></dt><dt><span class="section"><a href="#_tmodel_browser">4.6.3. tModel Browser</a></span></dt><dt><span class="section"><a href="#_search">4.6.4. Search</a></span></dt></dl></dd><dt><span class="section"><a href="#_creating_new_entities">4.7. Creating new Entities</a></span></dt><dd><dl><dt><span class="section"><a href="#_create_a_tmodel">4.7.1. Create a tModel</a></span></dt><dt><span class="section"><a href="#_create_a_tmodek_key_generator_partition">4.7.2. Create a tModek Key Generator (Partition)</a></span></dt><dt><span class="section"><a href="#_create_a_business">4.7.3. Create a Business</a></span></dt><dt><span class="section"><a href="#_create_a_service">4.7.4. Create a Service</a></span></dt><dt><span class="section"><a href="#_import_from_wsdl_or_wadl">4.7.5. Import from WSDL or WADL</a></span></dt></dl></dd><dt><span class="section"><a href="#_custody_transfers">4.8. Custody Transfers</a></span></dt><dt><span class="section"><a href="#_publisher_assertions">4.9. Publisher Assertions</a></span></dt><dt><span class="section"><a href="#_subscriptions">4.10. Subscriptions</a></span></dt><dd><dl><dt><span class="section"><a href="#_create_a_new_subscription">4.10.1. Create a new subscription</a></span></dt><dt><span class="section"><a href="#_view_my_subscriptions">4.10.2. View My Subscriptions</a></span></dt><dt><span class="section"><a href="#_view_the_news_feed">4.10.3. View the News Feed</a></span></dt></dl></dd><dt><span class="section"><a href="#UsingDigitalSignatures">4.11. Using Digital Signatures in juddi-gui</a></span></dt><dd><dl><dt><span class="section"><a href="#_sign_a_business_service_or_tmodel">4.11.1. Sign a Business, Service or tModel</a></span></dt><dt><span class="section"><a href="#_verify_a_signed_uddi_entity">4.11.2. Verify a signed UDDI entity</a></span></dt></dl></dd><dt><span class="section"><a href="#_configuration">4.12. Configuration</a></span></dt><dt><span class="section"><a href="#_language_codes">4.13. Language Codes</a></span></dt><dt><span class="section"><a href="#_switching_nodes">4.14. Switching Nodes</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_mapping_wsdl_and_wsdl_to_uddi">5. Mapping WSDL and WSDL to UDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_introduction_2">5.1. Introduction</a></span></dt><dt><span class="section"><a href="#_use_case_wsdl">5.2. Use Case - WSDL</a></span></dt><dd><dl><dt><span class="section"><a href="#_sample_code">5.2.1. Sample Code</a></span></dt><dt><span class="section"><a href="#_links_to_sample_project">5.2.2. Links to sample project</a></span></dt></dl></dd><dt><span class="section"><a href="#_use_case_wadl">5.3. Use Case - WADL</a></span></dt><dd><dl><dt><span class="section"><a href="#_sample_code_2">5.3.1. Sample Code</a></span></dt><dt><span class="section"><a href="#_links_to_sample_project_2">5.3.2. Links to sample project</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#_using_uddi_annotations">6. Using UDDI Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddi_service_annotation">6.1. UDDI Service Annotation</a></span></dt><dt><span class="section"><a href="#_uddiservicebinding_annotation">6.2. UDDIServiceBinding Annotation</a></span></dt><dd><dl><dt><span class="section"><a href="#_java_web_service_example">6.2.1. Java Web Service Example</a></span></dt><dt><span class="section"><a href="#_wiring_it_all_together">6.2.2. Wiring it all together</a></span></dt></dl></dd><dt><span class="section"><a href="#__net_web_service_example">6.3. .NET Web Service Example</a></span></dt><dd><dl><dt><span class="section"><a href="#_wiring_it_all_together_2">6.3.1. Wiring it all together</a></span></dt></dl></dd><dt><span class="section"><a href="#_categorybag_attribute">6.4. CategoryBag Attribute</a></span></dt><dt><span class="section"><a href="#_considerations_for_clustered_or_load_balanced_web_servers_and_automated_registration">6.5. Considerations for clustered or load balanced web servers and automated registration</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_using_the_uddi_v2_services_and_adapters">7. Using the UDDI v2 Services and Adapters</a></span></dt><dd><dl><dt><span class="section"><a href="#_introduction_3">7.1. Introduction</a></span></dt><dt><span class="section"><a href="#_accessing_uddi_v2_services_using_the_juddi_v3_client">7.2. Accessing UDDI v2 services using the jUDDI v3 Client</a></span></dt><dt><span class="section"><a href="#_accessing_uddi_v2_services_using_uddi_v2_apis">7.3. Accessing UDDI v2 services using UDDI v2 APIs</a></span></dt><dt><span class="section"><a href="#_accessing_juddi_v3_services_from_an_existing_uddi_v2_based_client_plugin_or_tool">7.4. Accessing jUDDI v3 services from an existing UDDI v2 based client, plugin or tool</a></span></dt><dt><span class="section"><a href="#_additional_information">7.5. Additional Information</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_uddi_migration_and_backup_tool">8. UDDI Migration and Backup Tool</a></span></dt><dd><dl><dt><span class="section"><a href="#_using_the_tool">8.1. Using the tool</a></span></dt><dd><dl><dt><span class="section"><a href="#_get_help">8.1.1. Get help</a></span></dt><dt><span class="section"><a href="#_use_case_basic_import_and_export">8.1.2. Use case: basic import and export</a></span></dt><dt><span class="section"><a href="#_use_case_import_and_export_while_preserving_ownership_information">8.1.3. Use case: Import and Export while preserving ownership information</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#_using_the_juddi_rest_services">9. Using the jUDDI REST Services</a></span></dt><dd><dl><dt><span class="section"><a href="#_url_patterns_and_methods">9.1. URL Patterns and methods</a></span></dt><dd><dl><dt><span class="section"><a href="#_endpoints">9.1.1. Endpoints</a></span></dt><dt><span class="section"><a href="#_methods">9.1.2. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="#_example_output">9.2. Example Output</a></span></dt><dd><dl><dt><span class="section"><a href="#_xml">9.2.1. XML</a></span></dt><dt><span class="section"><a href="#_json">9.2.2. JSON</a></span></dt></dl></dd><dt><span class="section"><a href="#_more_information">9.3. More information</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_juddi_client_for_net">10. jUDDI Client for NET</a></span></dt><dd><dl><dt><span class="section"><a href="#_procedure">10.1. Procedure</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_using_the_uddi_technology_compatibility_kit">11. Using the UDDI Technology Compatibility Kit</a></span></dt><dd><dl><dt><span class="section"><a href="#_using_the_tck_runner">11.1. Using the TCK Runner</a></span></dt><dd><dl><dt><span class="section"><a href="#_configuration_2">11.1.1. Configuration</a></span></dt><dt><span class="section"><a href="#_running_the_tck_runner">11.1.2. Running the TCK Runner</a></span></dt></dl></dd><dt><span class="section"><a href="#_analyzing_the_results">11.2. Analyzing the Results</a></span></dt></dl></dd><dt><span class="index"><a href="#_index">Index</a></span></dt></dl></div><div class="list-of-figures"><p><strong>List of Figures</strong></p><dl><dt>4.1. <a href="#d5e300">Welcome to jUDDI, Please select a language.</a></dt><dt>4.2. <a href="#d5e315">Full menu bar for computers or large displays.</a></dt><dt>4.3. <a href="#d5e322">Tablet/Mobile menu bar for small displays.</a></dt><dt>4.4. <a href="#d5e332">The Menu Bar.</a></dt><dt>4.5. <a href="#d5e356">Login Warning.</a></dt><dt>4.6. <a href="#d5e374">Browse Options.</a></dt><dt>4.7. <a href="#d5e386">Browse Business.</a></dt><dt>4.8. <a href="#d5e394">Browse Business Zoomed in.</a></dt><dt>4.9. <a href="#d5e406">Service Browser.</a></dt><dt>4.10. <a href="#d5e417">tModel Browser.</a></dt><dt>4.11. <a href="#d5e429">Search.</a></dt><dt>4.12. <a href="#d5e456">Create a tModel Key Generator (Partition).</a></dt><dt>4.13. <a href="#d5e474">Create Business.</a></dt><dt>4.14. <a href="#d5e482">How to Add and Delete items.</a></dt><dt>4.15. <a href="#d5e493">Business Editor’s Section.</a></dt><dt>4.16. <a href="#d5e528">Add a Service via Business Browser.</a></dt><dt>4.17. <a href="#d5e536">Add a Service via Business Editor.</a></dt><dt>4.18. <a href="#d5e551">Importing a Service from WSDL or WADL.</a></dt><dt>4.19. <a href="#d5e563">Custody Transfer.</a></dt><dt>4.20. <a href="#d5e573">Publisher Assertion.</a></dt><dt>4.21. <a href="#d5e587">Create a Subscription, Specific Item or Search Results.</a></dt><dt>4.22. <a href="#d5e599">Create a Subscription, Add an item using the chooser.</a></dt><dt>4.23. <a href="#d5e607">Create a Subscription, Item Added.</a></dt><dt>4.24. <a href="#d5e619">Create a Subscription, Delivery Mechanism.</a></dt><dt>4.25. <a href="#d5e627">Create a Subscription, Options.</a></dt><dt>4.26. <a href="#d5e637">View Subscriptions.</a></dt><dt>4.27. <a href="#d5e656">Select an entity, then click Digitally Sign.</a></dt><dt>4.28. <a href="#d5e663">Java Plugin Warnings.</a></dt><dt>4.29. <a href="#d5e671">Select a Signing Certificate.</a></dt><dt>4.30. <a href="#d5e679">Certificate Details.</a></dt><dt>4.31. <a href="#d5e687">Signature Settings.</a></dt><dt>4.32. <a href="#d5e698">Valid Signed Entity.</a></dt><dt>4.33. <a href="#d5e708">Invalid Signed Entity.</a></dt><dt>4.34. <a href="#d5e742">Node Switcher.</a></dt></dl></div><div class="list-of-tables"><p><strong>List of Tables</strong></p><dl><dt>6.1. <a href="#d5e800">UDDIService attributes</a></dt><dt>6.2. <a href="#d5e857">UDDIServiceBinding attributes</a></dt></dl></div>


<div class="preface" title="Preface"><div class="titlepage"><div><div><h2 class="title"><a id="_preface"/>Preface</h2></div></div></div>

<p>The jUDDI client framework facilitates interaction with any UDDI v3 compliant registry. In addition to providing a client framework for both Java and .NET, it also provides a self proclaimed Technical Compatilibity Test (TCK) Suite. The jUDDI community encourages collabration of other vendors on the TCK or on the client framework in general.</p>
</div>
<div class="chapter" title="Chapter 1. Simple Publishing Using the jUDDI API"><div class="titlepage"><div><div><h2 class="title"><a id="_simple_publishing_using_the_juddi_api"/>Chapter 1. Simple Publishing Using the jUDDI API</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_uddi_data_model">1.1. UDDI Data Model</a></span></dt><dt><span class="section"><a href="#_juddi_additions_to_the_model">1.2. jUDDI Additions to the Model</a></span></dt><dt><span class="section"><a href="#_uddi_and_juddi_api">1.3. UDDI and jUDDI API</a></span></dt><dt><span class="section"><a href="#_getting_started">1.4. Getting Started</a></span></dt><dd><dl><dt><span class="section"><a href="#_simple_publishing_example">1.4.1. Simple Publishing Example</a></span></dt><dt><span class="section"><a href="#_about_uddi_entity_keys">1.4.2. About UDDI Entity Keys</a></span></dt></dl></dd><dt><span class="section"><a href="#_a_few_tips_on_adding_binding_templates">1.5. A few tips on adding Binding Templates</a></span></dt><dt><span class="section"><a href="#_conclusion">1.6. Conclusion</a></span></dt></dl></div>

<p>One of the most common requests we get on the message board is "How do I publish a service using jUDDI?" This question holds a wide berth, as it can result anywhere from not understanding the UDDI data model, to confusion around how jUDDI is set up, to the order of steps required to publish artifacts in the registry, to general use of the API - and everything in between. This article will attempt to answer this "loaded" question and, while not going into too much detail, will hopefully clear some of the confusion about publishing into the jUDDI registry.</p>
<div class="section" title="1.1. UDDI Data Model"><div class="titlepage"><div><div><h2 class="title"><a id="_uddi_data_model"/>1.1. UDDI Data Model</h2></div></div></div>

<p>Before you begin publishing artifacts, you need to know exactly how to break down your data into the UDDI model. This topic is covered extensively in the specification, particularly in section 3, so I only want to gloss over some for details. Readers interested in more extensive coverage should most definitely take a look at the UDDI specification.</p>
<p>Below is a great diagram of the UDDI data model (taken directly from the specification):
<a class="ulink" href="http://juddi.apache.org/docs/3.x/userguide/html/images/uddi_core_datastructures.gif">http://juddi.apache.org/docs/3.x/userguide/html/images/uddi_core_datastructures.gif</a>
As you can see, data is organized into a hierarchical pattern. Business Entities are at the top of the pyramid, they contain Business Services and those services in turn contain Binding Templates. TModels (or technical models) are a catch-all structure that can do anything from categorize one of the main entities, describe the technical details of a binding (ex. protocols, transports, etc), to registering a key partition. TModels won’t be covered too much in this article as I want to focus on the three main UDDI entities.</p>
<p>The hierarchy defined in the diagram is self-explanatory. You must first have a Business Entity before you can publish any services. And you must have a Business Service before you can publish a Binding Template. There is no getting around this structure; this is the way UDDI works.</p>
<p>Business Entities describe the organizational unit responsible for the services it publishes. It generally consist of a description and contact information. How one chooses to use the Business Entity is really dependent on the particular case. If you’re one small company, you will likely just have one Business Entity. If you are a larger company with multiple departments, you may want to have a Business Entity per department. (The question may arise if you can have one uber-Business Entity and multiple child Business Entities representing the departments. The answer is yes, you can relate Business Entities using Publisher Assertions, but that is beyond the scope of this article.)</p>
<p>Business Services are the cogs of the SOA landscape. They represent units of functionality that are consumed by clients. In UDDI, there’s not much to a service structure; mainly descriptive information like name, description and categories. The meat of the technical details about the service is contained in its child Binding Templates.</p>
<p>Binding Templates, as mentioned above, give the details about the technical specification of the service. This can be as simple as just providing the service’s access point, to providing the location of the service WSDL to more complicated scenarios to breaking down the technical details of the WSDL (when used in concert with tModels). Once again, getting into these scenarios is beyond the scope of this article but may be the subject of future articles.</p>
</div>
<div class="section" title="1.2. jUDDI Additions to the Model"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_additions_to_the_model"/>1.2. jUDDI Additions to the Model</h2></div></div></div>

<p>Out of the box, jUDDI provides some additional structure to the data model described in the specification. Primarily, this is the concept of the Publisher.</p>
<p>The UDDI specification talks about ownership of the entities that are published within the registry, but makes no mention about how ownership should be handled. Basically, it is left up to the particular implementation to decide how to handle "users" that have publishing rights in the registry.</p>
<p>Enter the jUDDI Publisher. The Publisher is essentially an out-of-the-box implementation of an identity management system. Per the specification, before assets can be published into the registry, a "publisher" must authenticate with the registry by retrieving an authorization token. This authorization token is then attached to future publish calls to assign ownership to the published entities.</p>
<p>jUDDI’s Publisher concept is really quite simple, particularly when using the default authentication. You can save a Publisher to the registry using jUDDI’s custom API and then use that Publisher to publish your assets into the registry. jUDDI allows for integration into your own identity management system, circumventing the Publisher entirely if desired. This is discussed in more detail in the documentation, but for purposes of this article, we will be using the simple out-of-the-box Publisher solution.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>In UDDI, ownership is essentially assigned to a given registry entity by using its "authorizedName" field. The "authorizedName" field is defined in the specification in the operationalInfo structure which keeps track of operational info for each entity. In jUDDI, the authorizedName field translates to the person’s username, also know as the publisher id,</p>
</div>

</div>
<div class="section" title="1.3. UDDI and jUDDI API"><div class="titlepage"><div><div><h2 class="title"><a id="_uddi_and_juddi_api"/>1.3. UDDI and jUDDI API</h2></div></div></div>

<p>Knowing the UDDI data model is all well and good. But to truly interact with the registry, you need to know how the UDDI API is structured and how jUDDI implements this API. The UDDI API is covered in great detail in chapter 5 of the specification but will be summarized here.</p>
<p>UDDI divides their API into several "sets" - each representing a specific area of functionality. The API sets are listed below:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Inquiry - deals with querying the registry to return details on entities within
</li><li class="listitem">
Publication - handles publishing entities into the registry
</li><li class="listitem">
Security - open-ended specification that handles authentication
</li><li class="listitem">
Custody and Ownership Transfer - deals with transferring ownership and custody of entities
</li><li class="listitem">
Subscription - allows clients to retrieve information on entities in a timely manner using a subscription format
</li><li class="listitem">
Subscription Listener - client API that accepts subscription results
</li><li class="listitem">
Value Set (Validation and Caching)- validates keyed reference values (not implemented by jUDDI)
</li><li class="listitem">
Replication - deals with federation of data between registry nodes (not implemented by jUDDI)
The most commonly used APIs are the Inquiry, Publication and Security APIs. These APIs provide the standard functions for interacting with the registry.
</li></ul></div>

<p>The jUDDI server implements each of these API sets as a JAX-WS compliant web service and each method defined in the API set is simply a method in the corresponding web service. The client module provided by jUDDI uses a "transport" class that defines how the call is to be made. The default transport uses JAX-WS but there are several alternative ways to make calls to the API. Please refer to the documentation for more information.</p>
<p>One final note, jUDDI defines its own API set. This API set contains methods that deal with handling Publishers as well as other useful maintenance functions (mostly related to jUDDI’s subscription model). This API set is obviously proprietary to jUDDI and therefore doesn’t conform to the UDDI specification.</p>
</div>
<div class="section" title="1.4. Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="_getting_started"/>1.4. Getting Started</h2></div></div></div>

<p>Now that we’ve covered the basics of the data model and API sets, it’s time to get started with the publishing sample. The first thing that must happen is to get the jUDDI server up and running. Please refer to this <a class="ulink" href="http://apachejuddi.blogspot.com/2010/02/getting-started-with-juddi-v3.html">http://apachejuddi.blogspot.com/2010/02/getting-started-with-juddi-v3.html</a> article that explains how to start the jUDDI server.</p>
<div class="section" title="1.4.1. Simple Publishing Example"><div class="titlepage"><div><div><h3 class="title"><a id="_simple_publishing_example"/>1.4.1. Simple Publishing Example</h3></div></div></div>

<p>We will now go over the "simple-publish" examples. These examples expand upon the HelloWorld example in that after retrieving an authentication token, a BusinessEntity and BusinessService are published to the registry. There are two examples:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
simple-publish-portal - This is how to perform the publish operations in a way that’s portable, meaning that the code logic should apply to any UDDIv3 client application library.
</li><li class="listitem">
simple-publish-clerk - This shows you how to perform the same actions using the helper functions in jUDDI’s Client library, which greatly reduces the code required and makes things simple. This uses the UDDIClerk’s functions.
</li></ul></div>

<div class="section" title="1.4.1.1. Simple Publishing using Portable Code"><div class="titlepage"><div><div><h4 class="title"><a id="_simple_publishing_using_portable_code"/>1.4.1.1. Simple Publishing using Portable Code</h4></div></div></div>

<p>The complete source for this example can be found here:
 - Portable <a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/simple-publish-portable/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/simple-publish-portable/</a></p>
<pre class="screen">        public SimplePublishPortable() {
                try {
                        // create a client and read the config in the archive;
                        // you can use your config file name
                        UDDIClient uddiClient = new UDDIClient("META-INF/uddi.xml");
                        // a UddiClient can be a client to multiple UDDI nodes, so
                        // supply the nodeName (defined in your uddi.xml.
                        // The transport can be WS, inVM, RMI etc which is defined in the uddi.xml
                        Transport transport = uddiClient.getTransport("default");
                        // Now you create a reference to the UDDI API
                        security = transport.getUDDISecurityService();
                        publish = transport.getUDDIPublishService();
                } catch (Exception e) {
                        e.printStackTrace();
                }
        }</pre>

<p>The constructor uses the jUDDI client API to retrieve the transport from the default node. You can refer to the documentation if you’re confused about how clerks and nodes work. Suffice it to say, we are simply retrieving the default client transport class which is designed to make UDDI calls out using JAX-WS web services.</p>
<p>Once the transport is instantiated, we grab the two API sets we need for this demo: 1) the Security API set so we can get authorization tokens and 2) the Publication API set so we can actually publish entities to the registry.</p>
<p>All the magic happens in the publish method. We will look at that next.</p>
<p>Here are the first few lines of the publish method:</p>
<pre class="screen">                        // Login aka retrieve its authentication token
                        GetAuthToken getAuthTokenMyPub = new GetAuthToken();
                        getAuthTokenMyPub.setUserID("bob");                    //your username
                        getAuthTokenMyPub.setCred("bob");                          //your password
                        AuthToken myPubAuthToken = security.getAuthToken(getAuthTokenMyPub);
                        System.out.println(getAuthTokenMyPub.getUserID() + "'s AUTHTOKEN = " + "******* never log auth tokens!");</pre>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>Don’t log authentication tokens. In addition, whenever you’re done with it, it should be <span class="emphasis"><em>discarded</em></span>. Think of it as a logout function.</p>
</div>

<p>This code simply gets the authorization token for the <span class="emphasis"><em>bob</em></span> user.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>jUDDI includes two reserved usernames, <span class="emphasis"><em>uddi</em></span> and <span class="emphasis"><em>root</em></span>. Root acts as the "administrator" for jUDDI API calls. Additionally, the <span class="emphasis"><em>root</em></span> user is the owning publisher for all the initial services installed with jUDDI. You may be wondering what those "initial services" are. Well, since the UDDI API sets are all implemented as web services by jUDDI, every jUDDI node actually registers those services inside itself. This is done per the specification. The user <span class="emphasis"><em>uddi</em></span> owns the remaining preinstalled data.</p>
</div>

<p>Now that we have Bob’s authorization, we can start publishing.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>You’ll note that no credentials have been set on both authorization calls. This is because we’re using the default authenticator (which is for testing purposes doesn’t require credentials). Most UDDI servers will require authentication.</p>
</div>

<pre class="screen">            // Creating the parent business entity that will contain our service.
            BusinessEntity myBusEntity = new BusinessEntity();
            Name myBusName = new Name();
            myBusName.setValue("My Business");
            myBusEntity.getName().add(myBusName);

            // Adding the business entity to the "save" structure, using our publisher's authentication info
            // and saving away.
            SaveBusiness sb = new SaveBusiness();
            sb.getBusinessEntity().add(myBusEntity);
            sb.setAuthInfo(myPubAuthToken.getAuthInfo());
            BusinessDetail bd = publish.saveBusiness(sb);
            String myBusKey = bd.getBusinessEntity().get(0).getBusinessKey();
            System.out.println("myBusiness key:  " + myBusKey);

            // Creating a service to save.  Only adding the minimum data: the parent business key retrieved
            //from saving the business above and a single name.
            BusinessService myService = new BusinessService();
            myService.setBusinessKey(myBusKey);
            Name myServName = new Name();
            myServName.setValue("My Service");
            myService.getName().add(myServName);
            // Add binding templates, etc...
            // &lt;snip&gt; We removed some stuff here to make the example shorter, check out the source for more info&lt;/snip&gt;

            // Adding the service to the "save" structure, using our publisher's authentication info and
            // saving away.
            SaveService ss = new SaveService();
            ss.getBusinessService().add(myService);
            ss.setAuthInfo(myPubAuthToken.getAuthInfo());
            ServiceDetail sd = publish.saveService(ss);
            String myServKey = sd.getBusinessService().get(0).getServiceKey();
            System.out.println("myService key:  " + myServKey);

            //and we're done, don't forget to logout!
            security.discardAuthToken(new DiscardAuthToken(myPubAuthToken.getAuthInfo()));</pre>

<p>To summarize, here we have created and saved a BusinessEntity and then created and saved a BusinessService. We’ve just added the bare minimum data to each entity. Obviously, you would want to fill out each structure with greater information, particularly with services. However, this is beyond the scope of this article, which aims to simply show you how to programmatically publish entities.</p>
</div>
<div class="section" title="1.4.1.2. Simple Publishing using Clerks"><div class="titlepage"><div><div><h4 class="title"><a id="_simple_publishing_using_clerks"/>1.4.1.2. Simple Publishing using Clerks</h4></div></div></div>

<p>The complete source for this example can be found here:
 - Clerk <a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/simple-publish-clerk/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/simple-publish-clerk/</a></p>
<p>The sample consists of only one class: SimplePublishPortable. Let’s start by taking a look at the constructor:</p>
<pre class="screen">        public SimplePublishClerk() {
                try {
                        // create a client and read the config in the archive;
                        // you can use your config file name
                        UDDIClient uddiClient = new UDDIClient("META-INF/uddi.xml");
                        //get the clerk
                        clerk = uddiClient.getClerk("default");
                        if (clerk==null)
                                throw new Exception("the clerk wasn't found, check the config file!");
                } catch (Exception e) {
                        e.printStackTrace();
                }
        }</pre>

<p>Notice that this is already much more streamlined than the previous example. In this scenario, all configuration settings and credentials are stored in "META-INF/uddi.xml".</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>The configuration file used by clients can be overridden via the system property "uddi.client.xml". E.g. java -Duddi.client.xml=/usr/local/uddi.xml -jar MyCoolProgram.jar</p>
</div>

<p>UDDIClient’s job is to read the configuration file and initialize the data structures for working with 1 or more UDDI nodes (or servers). It also handles automatic registration of endpoints using WSDL documents or using class annotations. UDDIClerk’s job is to manage credentials and to perform a number of common tasks. Feel free to use them in your programs and help you simplify things.</p>
<p>The UDDIClerk also handle credentials and authentication to UDDI for you. If you didn’t want to store credentials (it can be encrypted) then you can specify them at runtime very easily.</p>
<p>Moving on, the next function is Publish. Here’s the short short version.</p>
<pre class="screen">public void publish() {
              try {
                        // Creating the parent business entity that will contain our service.
                        BusinessEntity myBusEntity = new BusinessEntity();
                        Name myBusName = new Name();
                        myBusName.setValue("My Business");
                        myBusEntity.getName().add(myBusName);
                        //&lt;snip&gt;we removed a bunch of useful stuff here, see the full example for the rest of it&lt;/snip&gt;

                        //register the business, if the return value is null, something went wrong!
                        BusinessEntity register = clerk.register(myBusEntity);
                        //don't forget to log out!
                        clerk.discardAuthToken();
                        if (register == null) {
                                System.out.println("Save failed!");
                                System.exit(1);
                        }
                        // Now you have a business and service via
                        // the jUDDI API!
                        System.out.println("Success!");

                } catch (Exception e) {
                        e.printStackTrace();
                }
        }
</pre>

<p>The UDDIClerk has a register and unregister function for nearly everything for UDDI. Between the UDDIClient and UDDIClerk, there’s enough helper functions to significantly reduce the amount of code needed to work with UDDI. Here’s a quick list of things they can do for you:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Create a tModel Partition, also know as a Key Generator
</li><li class="listitem">
Resolve endpoints from WSDLs, Hosting directors, and other binding template references from Access Points <a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908385">http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908385</a>
</li><li class="listitem">
Get Bindings by Version
</li><li class="listitem">
Add REST or SOAP tModels to a binding template
</li><li class="listitem">
Setup asynchronous callbacks for subscriptions
</li><li class="listitem">
Compare the values of a tModel Instance Info, such as Quality of Service Metrics
</li><li class="listitem">
Create and register services using a WADL or WSDL document
</li><li class="listitem">
And more…
</li></ul></div>

<p>We’re also looking for the next thing to add to the client library. Have an idea? Please open a ticket on jUDDI’s Issue Tracker at <a class="ulink" href="https://issues.apache.org/jira/browse/JUDDI">https://issues.apache.org/jira/browse/JUDDI</a>.</p>
</div>
</div>
<div class="section" title="1.4.2. About UDDI Entity Keys"><div class="titlepage"><div><div><h3 class="title"><a id="_about_uddi_entity_keys"/>1.4.2. About UDDI Entity Keys</h3></div></div></div>

<p>There are a couple important notes regarding the use of entity keys. Version 3 of the specification allows for publishers to create their own keys but also instructs implementers to have a default method. Here we have gone with the default implementation by leaving each entity’s "key" field blank in the save call. jUDDI’s default key generator simply takes the node’s partition and appends a GUID. In a default installation, it will look something like this:</p>
<p>uddi:juddi.apache.org:(generated GUID/UUID)</p>
<p>You can, of course, customize all of this, but that is left for another article. The second important point is that when the BusinessService is saved, we have to explicitly set its parent business key (retrieved from previous call saving the business). This is a necessary step when the service is saved in an independent call like this. Otherwise you would get an error because jUDDI won’t know where to find the parent entity. I could have added this service to the BusinessEntity’s service collection and saved it with the call to saveBusiness. In that scenario we would not have to set the parent business key.</p>
</div>
</div>
<div class="section" title="1.5. A few tips on adding Binding Templates"><div class="titlepage"><div><div><h2 class="title"><a id="_a_few_tips_on_adding_binding_templates"/>1.5. A few tips on adding Binding Templates</h2></div></div></div>

<p>Arguably, the most useful useful part of UDDI is advertising your services similar to a phone book or directory. The important part really isn’t that Bob’s Business exists (BusinessEntity), it’s that Bob provides a service (BusinessService) and it’s located at this address. This is where the Binding Template comes it. It identifies an instance of a service, its location and any other metadata associated with the endpoint that someone may want to know.</p>
<p>This article skips the binding Template data because it can be lengthy, but the full source for these examples shows you exactly how to build and add binding templates.</p>
</div>
<div class="section" title="1.6. Conclusion"><div class="titlepage"><div><div><h2 class="title"><a id="_conclusion"/>1.6. Conclusion</h2></div></div></div>

<p>Hopefully this added clarity to the question, "How do I publish a service using jUDDI?".</p>
</div>
</div>
<div class="chapter" title="Chapter 2. jUDDI Client Configuration Guide"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_client_configuration_guide"/>Chapter 2. jUDDI Client Configuration Guide</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_introduction">2.1. Introduction</a></span></dt><dt><span class="section"><a href="#_client_settings">2.2. Client Settings</a></span></dt><dt><span class="section"><a href="#_nodes">2.3. Nodes</a></span></dt><dd><dl><dt><span class="section"><a href="#_transport_options">2.3.1. Transport Options</a></span></dt></dl></dd><dt><span class="section"><a href="#_clerks">2.4. Clerks</a></span></dt><dt><span class="section"><a href="#_clerk">2.5. Clerk</a></span></dt><dt><span class="section"><a href="#_digital_signatures">2.6. Digital Signatures</a></span></dt><dt><span class="section"><a href="#_subscription_callbacks">2.7. Subscription Callbacks</a></span></dt><dt><span class="section"><a href="#_xtowsdl">2.8. XtoWsdl</a></span></dt><dt><span class="section"><a href="#_embedded_juddi_server">2.9. Embedded jUDDI server</a></span></dt><dd><dl><dt><span class="section"><a href="#_requirements">2.9.1. Requirements</a></span></dt><dt><span class="section"><a href="#_changes_in_configuration_compared_to_non_embedded">2.9.2. Changes in configuration compared to non-embedded</a></span></dt></dl></dd></dl></div>

<div class="section" title="2.1. Introduction"><div class="titlepage"><div><div><h2 class="title"><a id="_introduction"/>2.1. Introduction</h2></div></div></div>

<p>The jUDDI Java and .NET clients use an XML configuration file that dictates settings and behaviors.
This guide provides an overview of the settings. Both .NET and jUDDI use the same configuration file schema. This schema is located within the source tree and with the client distribution packages of jUDDI.</p>
</div>
<div class="section" title="2.2. Client Settings"><div class="titlepage"><div><div><h2 class="title"><a id="_client_settings"/>2.2. Client Settings</h2></div></div></div>

<p>The root XML node for the jUDDI client configuration file is always "uddi".</p>
<pre class="screen">&lt;!-- applies to Java clients only --&gt;
uddi/reloadDelay</pre>

<p>Multiple clients can be defined in each configuration file.</p>
<pre class="screen">uddi/client@name="someName"</pre>

</div>
<div class="section" title="2.3. Nodes"><div class="titlepage"><div><div><h2 class="title"><a id="_nodes"/>2.3. Nodes</h2></div></div></div>

<p>At least one node is required per client. A node represents a one logical UDDI server (or cluster of servers). Each UDDI node should host at least the inquiry service. A client using the jUDDI client package can be configured to access multiple nodes at the same time.</p>
<pre class="screen">&lt;!-- if isHomeJUDDI is true, then this node is loaded by default, when no node is specified in client code --&gt;
uddi/client/nodes[]/node@isHomeJUDDI=true/false
&lt;!-- the name of the node is referenced in client code --&gt;
uddi/client/nodes[]/node/name
&lt;!-- the description of the node --&gt;
uddi/client/nodes[]/node/description
&lt;!-- the properties section defines HTTP style credentials and a runtime tokenizer for URLs --&gt;
uddi/client/nodes[]/node/properties
&lt;!-- The transport represents the class name of the transport mechanism that the client will use to connect
to the UDDI node. The most commonly used is org.apache.juddi.v3.client.transport.JAXWSTransport, however
RMITransport, InVMTransport and JAXWSv2TranslationTransport are also defined --&gt;
uddi/client/nodes[]/node/proxyTransport

&lt;!-- endpoint URLs --&gt;
uddi/client/nodes[]/node/custodyTransferUrl
uddi/client/nodes[]/node/inquiryUrl
uddi/client/nodes[]/node/publishUrl
uddi/client/nodes[]/node/securityUrl
uddi/client/nodes[]/node/subscriptionUrl
uddi/client/nodes[]/node/subscriptionListenerUrl
&lt;!-- note: this is for jUDDI v3.x servers only and is not part of the UDDI standard --&gt;
uddi/client/nodes[]/node/juddiApiUrl</pre>

<div class="section" title="2.3.1. Transport Options"><div class="titlepage"><div><div><h3 class="title"><a id="_transport_options"/>2.3.1. Transport Options</h3></div></div></div>

<p>The Proxy Transport defines which mechanism is used for <span class="emphasis"><em>on the wire</em></span> transport of the UDDI XML messages. JAXWS Transport is the most commonly used and assumes SOAP messaging protocol over HTTP transport layer.</p>
<p>RMI Transport using the Java Remote Method Invocation for transport. It’s more commonly used for communicating within a J2EE container, but could be used in other cases. It’s not required by the UDDI specification and is considered a jUDDI add on.</p>
<p>InVM Transport is for hosting jUDDI services without a J2EE container.</p>
<p>JAXWSv2TranslationTransport is a bridge for accessing UDDIv2 web services using the UDDIv3 data structures and APIs. Only the Inquiry and Publish services are required and they must point to SOAP/HTTP endpoints for a UDDI v2 node.</p>
</div>
</div>
<div class="section" title="2.4. Clerks"><div class="titlepage"><div><div><h2 class="title"><a id="_clerks"/>2.4. Clerks</h2></div></div></div>

<p>Clerks are responsible for mapping stored user credentials to a Node and for automated registration.</p>
<pre class="screen">&lt;!-- if true, the contents of the child node xregister are registered when the UDDIClient object is created, using the credential and node reference.--&gt;
uddi/client/clerks/registerOnStartup=true/false</pre>

</div>
<div class="section" title="2.5. Clerk"><div class="titlepage"><div><div><h2 class="title"><a id="_clerk"/>2.5. Clerk</h2></div></div></div>

<p>Clerks store credentials and map to a specific node.</p>
<pre class="screen">&lt;!-- the name is a reference to the Node that these credentials apply to--&gt;
uddi/client/clerks[]/clerk@node - This is reference to uddi/client/node/name, it must exist
uddi/client/clerks[]/clerk@name - This is a unique identifier of the clerk
uddi/client/clerks[]/clerk@publisher  - This is the username
uddi/client/clerks[]/clerk@password
uddi/client/clerks[]/clerk@isPasswordEncrypted=true/false
uddi/client/clerks[]/clerk@cryptoProvider=(see Crypto providers)</pre>

<p>Credentials can be encrypted using the included batch/bash scripts and then appended to the configuration. Example with encryption:</p>
<pre class="screen">&lt;clerk name="default" node="default" publisher="root" password="(cipher text removed)"
                          isPasswordEncrypted="true" cryptoProvider="org.apache.juddi.v3.client.cryptor.AES128Cryptor" /&gt;</pre>

<p>Clerks also have settings for the automated cross registration of Businesses and Services on start up.</p>
<pre class="screen">uddi/client/clerks[]/xregister/service@bindingKey
uddi/client/clerks[]/xregister/service@fromClerk
uddi/client/clerks[]/xregister/service@toClerk</pre>

</div>
<div class="section" title="2.6. Digital Signatures"><div class="titlepage"><div><div><h2 class="title"><a id="_digital_signatures"/>2.6. Digital Signatures</h2></div></div></div>

<p>The Signature section contains settings that map to the Digital Signature Utility that makes working with UDDI digital signatures simple. The section contains all of the settings for both signing and validating signatures.</p>
<pre class="screen">uddi/client/signature/signingKeyStorePath
uddi/client/signature/signingKeyStoreFilePassword
uddi/client/signature/signingKeyStoreFilePassword@isPasswordEncrypted
uddi/client/signature/signingKeyStoreFilePassword@cryptoProvider
uddi/client/signature/signingKeyPassword
uddi/client/signature/signingKeyPassword@isPasswordEncrypted
uddi/client/signature/signingKeyPassword@cryptoProvider
uddi/client/signature/signingKeyAlias
uddi/client/signature/canonicalizationMethod
uddi/client/signature/signatureMethod=(default RSA_SHA1)
uddi/client/signature/XML_DIGSIG_NS=(default http://www.w3.org/2000/09/xmldsig#)
uddi/client/signature/trustStorePath
uddi/client/signature/trustStoreType
uddi/client/signature/trustStorePassword
uddi/client/signature/trustStorePassword@isPasswordEncrypted
uddi/client/signature/trustStorePassword@cryptoProvider
&lt;!-- checks signing certificates for timestamp validity --&gt;
uddi/client/signature/checkTimestamps
&lt;!-- checks signing certificates for trust worthiness --&gt;
uddi/client/signature/checkTrust
&lt;!-- checks signing certificates for revocation --&gt;
uddi/client/signature/checkRevocationCRL
uddi/client/signature/keyInfoInclusionSubjectDN
uddi/client/signature/keyInfoInclusionSerial
uddi/client/signature/keyInfoInclusionBase64PublicKey
&lt;!-- default is http://www.w3.org/2000/09/xmldsig#sha1 --&gt;
uddi/client/signature/digestMethod</pre>

</div>
<div class="section" title="2.7. Subscription Callbacks"><div class="titlepage"><div><div><h2 class="title"><a id="_subscription_callbacks"/>2.7. Subscription Callbacks</h2></div></div></div>

<p>The subscriptionCallbacks section defines settings uses by the subscription callback API. This enables developers to create capabilities that need to be notified immediately when something in UDDI changes through the use of subscriptions.</p>
<pre class="screen">uddi/client/subscriptionCallbacks/keyDomain
uddi/client/subscriptionCallbacks/listenUrl this is the URL that is used for callbacks, should be externally resolvable
uddi/client/subscriptionCallbacks/autoRegisterBindingTemplate=true/false
uddi/client/subscriptionCallbacks/autoRegisterBusinessServiceKey=(key) append callback endpoint to this service
uddi/client/subscriptionCallbacks/signatureBehavior=(AbortIfSigned,Sign,DoNothing,SignOnlyIfParentIsntSigned), default DoNothing. Applies when auto registering the endpoint to a business or service that is already signed.</pre>

</div>
<div class="section" title="2.8. XtoWsdl"><div class="titlepage"><div><div><h2 class="title"><a id="_xtowsdl"/>2.8. XtoWsdl</h2></div></div></div>

<p>XtoWsdl represents configuration parameters for importing WSDL or WADL files. Currently, the only setting is for ignoring SSL errors when fetching remote WSDL or WADL files.</p>
<pre class="screen">uddi/client/XtoWsdl/IgnoreSSLErrors=true or false</pre>

</div>
<div class="section" title="2.9. Embedded jUDDI server"><div class="titlepage"><div><div><h2 class="title"><a id="_embedded_juddi_server"/>2.9. Embedded jUDDI server</h2></div></div></div>

<p>jUDDI has the ability to run in embedded mode. This means that the jUDDI services can operate without a web servlet container, such as Tomcat or JBoss. Typically, this is something that application developers would use for more advanced scenarios and for operation without network connectivity.</p>
<div class="section" title="2.9.1. Requirements"><div class="titlepage"><div><div><h3 class="title"><a id="_requirements"/>2.9.1. Requirements</h3></div></div></div>

<p>A database server, if one is not available, the embedded Derby engine can be used.</p>
</div>
<div class="section" title="2.9.2. Changes in configuration compared to non-embedded"><div class="titlepage"><div><div><h3 class="title"><a id="_changes_in_configuration_compared_to_non_embedded"/>2.9.2. Changes in configuration compared to non-embedded</h3></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
META-INF/embedded-uddi.xml needs to contain the connection settings for InVmTransport.
</li></ul></div>


<pre class="literallayout">   &lt;!-- In VM Transport Settings --&gt;
   &lt;proxyTransport&gt;org.apache.juddi.v3.client.transport.InVMTransport&lt;/proxyTransport&gt;
   &lt;custodyTransferUrl&gt;org.apache.juddi.api.impl.UDDICustodyTransferImpl&lt;/custodyTransferUrl&gt;
   &lt;inquiryUrl&gt;org.apache.juddi.api.impl.UDDIInquiryImpl&lt;/inquiryUrl&gt;
   &lt;publishUrl&gt;org.apache.juddi.api.impl.UDDIPublicationImpl&lt;/publishUrl&gt;
   &lt;securityUrl&gt;org.apache.juddi.api.impl.UDDISecurityImpl&lt;/securityUrl&gt;
   &lt;subscriptionUrl&gt;org.apache.juddi.api.impl.UDDISubscriptionImpl&lt;/subscriptionUrl&gt;
   &lt;subscriptionListenerUrl&gt;org.apache.juddi.api.impl.UDDISubscriptionListenerImpl&lt;/subscriptionListenerUrl&gt;
   &lt;juddiApiUrl&gt;org.apache.juddi.api.impl.JUDDIApiImpl&lt;/juddiApiUrl&gt;</pre>


<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
The serverside config file juddiv3.xml needs to be added to the classpath.
</li><li class="listitem">
A META-INF/persistence.xml needs to be added.
</li><li class="listitem">
Add the juddi-core (UDDI server) and derby (Embedded Database) dependencies to the pom. Use the juddi-core-openjpa jar for OpenJPA.
</li></ul></div>

<p>See also the hello-world-embedded example.</p>
</div>
</div>
</div>
<div class="chapter" title="Chapter 3. Key Format Templates"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-KeyFormatTemplates"/>Chapter 3. Key Format Templates</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_uddiv3_key_format">3.1. UDDIv3 key format</a></span></dt><dt><span class="section"><a href="#_juddi_key_format_templates">3.2. jUDDI key format templates</a></span></dt><dd><dl><dt><span class="section"><a href="#_advantages_of_using_a_template">3.2.1. Advantages of using a template</a></span></dt><dt><span class="section"><a href="#_default_uddikeyconvention_key_templates">3.2.2. Default UDDIKeyConvention Key Templates</a></span></dt><dt><span class="section"><a href="#_how_to_use_the_templates">3.2.3. How to use the templates?</a></span></dt><dt><span class="section"><a href="#_where_to_define_to_properties">3.2.4. Where to define to properties?</a></span></dt></dl></dd></dl></div>

<div class="section" title="3.1. UDDIv3 key format"><div class="titlepage"><div><div><h2 class="title"><a id="_uddiv3_key_format"/>3.1. UDDIv3 key format</h2></div></div></div>

<p>The UDDI v3 keys are formatted such that they are human readable. The short story is that UDDI v3 keys are formatted like: <span class="emphasis"><em>uddi:&lt;domain&gt;:name</em></span>. For example, if you wanted a tModel defined as "uddi:www.mycompany.com:serviceauthenticationmethod", you would first have to create a tModel key generator with value "uddi:www.mycompany.com:keygenerator".</p>
</div>
<div class="section" title="3.2. jUDDI key format templates"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_key_format_templates"/>3.2. jUDDI key format templates</h2></div></div></div>

<p>The jUDDI client has taken the key format approach one step further so the name part of the key actually helps you understand what the key is for, or even better in the case of a binding template what server registered the key.</p>
<div class="section" title="3.2.1. Advantages of using a template"><div class="titlepage"><div><div><h3 class="title"><a id="_advantages_of_using_a_template"/>3.2.1. Advantages of using a template</h3></div></div></div>

<p>Using a binding Key with format <code class="literal">uddi:${keyDomain}:binding_${serverName}_${serviceName}_${portName}_${serverPort}</code> contains valuable information for two reasons
- you can tell from the bindingKey what server registered it. This is helpful information if you want to debug connectivity issues between a client and the UDDI server.
- if a server goes to register a bindingTemplate it registered before it won’t create a second bindingTemplate, so it won’t leave behind dead or duplicate bindingTemplates.</p>
</div>
<div class="section" title="3.2.2. Default UDDIKeyConvention Key Templates"><div class="titlepage"><div><div><h3 class="title"><a id="_default_uddikeyconvention_key_templates"/>3.2.2. Default UDDIKeyConvention Key Templates</h3></div></div></div>

<p>The default templates setup by the jUDDI client are:</p>

<pre class="literallayout">uddi:${keyDomain}:business_${businessName}
uddi:${keyDomain}:service_${serviceName}
uddi:${keyDomain}:service_cache_${serverName}
uddi:${keyDomain}:binding_${serverName}_${serviceName}_${portName}_${serverPort}</pre>


<p>where tokens are expressed using <code class="literal">${}</code>. The templates are defined in the UDDIKeyConvention class.</p>
</div>
<div class="section" title="3.2.3. How to use the templates?"><div class="titlepage"><div><div><h3 class="title"><a id="_how_to_use_the_templates"/>3.2.3. How to use the templates?</h3></div></div></div>

<p>At runtime a serviceKey can be obtained using</p>

<pre class="literallayout">String serviceKey = UDDIKeyConvention.getServiceKey(properties, serviceName);</pre>


<p>The serviceName can be specified in as a property in the first argument, or it can explicitly passed as the second argument. Using the second argument overrides what’s specified in the properties. By default it will use the service template <code class="literal">uddi:${keyDomain}:service_${serviceName}</code>, but if you wish to use a different template you can simple specify that as a property, for example</p>

<pre class="literallayout">String myCustomServiceFormat = "uddi:${keyDomain}:s_${serviceName}";
properties.add(Property.SERVICE_KEY_FORMAT, myCustomServiceFormat);
String myCustomFormattedServiceKey = UDDIKeyConvention.getServiceKey(properties, serviceName);</pre>


</div>
<div class="section" title="3.2.4. Where to define to properties?"><div class="titlepage"><div><div><h3 class="title"><a id="_where_to_define_to_properties"/>3.2.4. Where to define to properties?</h3></div></div></div>

<p>You can define the properties in your code, or you can obtain and pass in the properties defined in your <code class="literal">uddi.xml</code>. For an exmaple of this you can check out the <code class="literal">META-INF/wsdl2uddi-uddi.xml</code> of the <code class="literal">wsdl2uddi</code> example where for the <code class="literal">default</code> node we set</p>

<pre class="literallayout">        ...
        &lt;nodes&gt;
            &lt;node&gt;
                &lt;name&gt;default&lt;/name&gt;
                &lt;properties&gt;
                    &lt;property name="serverName" value="localhost"/&gt;
                    &lt;property name="serverPort" value="8080"/&gt;
                    &lt;property name="keyDomain" value="uddi.joepublisher.com"/&gt;
                    &lt;property name="businessName" value="WSDL-Business"/&gt;
                &lt;/properties&gt;
				...
		    &lt;/node&gt;
            ...
        &lt;/nodes&gt;
        ...</pre>


<p>and you can obtain the properties like</p>

<pre class="literallayout">UDDIClient uddiClient = new UDDIClient("META-INF/wsdl2uddi-uddi.xml");
Properties properties = uddiClient.getClientConfig().getUDDINode("default").getProperties();</pre>


<p>This is exactly what the WSDL2UDDI implementation does, and it the reason the class requires the properties in the constructor.</p>
</div>
</div>
</div>
<div class="chapter" title="Chapter 4. Using the jUDDI GUI"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-UsingTheJUDDIGUI"/>Chapter 4. Using the jUDDI GUI</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_requirements_2">4.1. Requirements</a></span></dt><dt><span class="section"><a href="#_tasks">4.2. Tasks</a></span></dt><dd><dl><dt><span class="section"><a href="#_your_first_sign_on">4.2.1. Your first sign on</a></span></dt></dl></dd><dt><span class="section"><a href="#_the_menu_bar">4.3. The Menu Bar</a></span></dt><dt><span class="section"><a href="#_logging_in_to_uddi_services">4.4. Logging in to UDDI Services</a></span></dt><dt><span class="section"><a href="#_logging_out">4.5. Logging Out</a></span></dt><dt><span class="section"><a href="#_discover_browse_uddi">4.6. Discover (Browse UDDI)</a></span></dt><dd><dl><dt><span class="section"><a href="#_business_browser">4.6.1. Business Browser</a></span></dt><dt><span class="section"><a href="#_service_browser">4.6.2. Service Browser</a></span></dt><dt><span class="section"><a href="#_tmodel_browser">4.6.3. tModel Browser</a></span></dt><dt><span class="section"><a href="#_search">4.6.4. Search</a></span></dt></dl></dd><dt><span class="section"><a href="#_creating_new_entities">4.7. Creating new Entities</a></span></dt><dd><dl><dt><span class="section"><a href="#_create_a_tmodel">4.7.1. Create a tModel</a></span></dt><dt><span class="section"><a href="#_create_a_tmodek_key_generator_partition">4.7.2. Create a tModek Key Generator (Partition)</a></span></dt><dt><span class="section"><a href="#_create_a_business">4.7.3. Create a Business</a></span></dt><dt><span class="section"><a href="#_create_a_service">4.7.4. Create a Service</a></span></dt><dt><span class="section"><a href="#_import_from_wsdl_or_wadl">4.7.5. Import from WSDL or WADL</a></span></dt></dl></dd><dt><span class="section"><a href="#_custody_transfers">4.8. Custody Transfers</a></span></dt><dt><span class="section"><a href="#_publisher_assertions">4.9. Publisher Assertions</a></span></dt><dt><span class="section"><a href="#_subscriptions">4.10. Subscriptions</a></span></dt><dd><dl><dt><span class="section"><a href="#_create_a_new_subscription">4.10.1. Create a new subscription</a></span></dt><dt><span class="section"><a href="#_view_my_subscriptions">4.10.2. View My Subscriptions</a></span></dt><dt><span class="section"><a href="#_view_the_news_feed">4.10.3. View the News Feed</a></span></dt></dl></dd><dt><span class="section"><a href="#UsingDigitalSignatures">4.11. Using Digital Signatures in juddi-gui</a></span></dt><dd><dl><dt><span class="section"><a href="#_sign_a_business_service_or_tmodel">4.11.1. Sign a Business, Service or tModel</a></span></dt><dt><span class="section"><a href="#_verify_a_signed_uddi_entity">4.11.2. Verify a signed UDDI entity</a></span></dt></dl></dd><dt><span class="section"><a href="#_configuration">4.12. Configuration</a></span></dt><dt><span class="section"><a href="#_language_codes">4.13. Language Codes</a></span></dt><dt><span class="section"><a href="#_switching_nodes">4.14. Switching Nodes</a></span></dt></dl></div>

<p>Starting with jUDDI v3.2, a nearly full featured UDDI v3 compliant web user interface is included called the jUDDI Graphical User Interface, or jUDDI GUI. It is also referred to as the jUDDI Console, or jUDDI User Console. The jUDDI GUI is a web application that can run in most web servlet containers, such as Tomcat and can be deployed along side of the jUDDI Web Services war (juddiv3.war). From the jUDDI GUI, users can browse, search, create, update, digitally sign and delete most UDDI entities, as well as preform custody transfers, configure subscriptions.</p>
<p>As of version 3.2, the jUDDI GUI supports the complete functionality of the following UDDI services</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Inquiry
</li><li class="listitem">
Publish
</li><li class="listitem">
Security
</li><li class="listitem">
Custody Transfer
</li><li class="listitem">
Subscription
</li></ul></div>

<div class="section" title="4.1. Requirements"><div class="titlepage"><div><div><h2 class="title"><a id="_requirements_2"/>4.1. Requirements</h2></div></div></div>

<p>The jUDDI GUI needs two things in order to operate.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
UDDI v3 compliant services
</li><li class="listitem">
A J2EE application server, such as Tomcat, Jboss, Jetty or maybe even in Winstone
</li><li class="listitem">
Optionally, a container level authentication mechanism that supports role based authentication (for remote configuration)
</li></ul></div>

</div>
<div class="section" title="4.2. Tasks"><div class="titlepage"><div><div><h2 class="title"><a id="_tasks"/>4.2. Tasks</h2></div></div></div>

<p>The following sections detail how to perform basic tasks using the jUDDI GUI. Hopefully, the user interface is intuitive enough that thorough guidance isn’t necessary.</p>
<div class="section" title="4.2.1. Your first sign on"><div class="titlepage"><div><div><h3 class="title"><a id="_your_first_sign_on"/>4.2.1. Your first sign on</h3></div></div></div>

<p>Typically, the jUDDI GUI is accessed via a URL in a web browser, such as this: <a class="ulink" href="http://localhost:8080/juddi-gui">http://localhost:8080/juddi-gui</a>. This URL will probably be different from this if someone else set up jUDDI GUI for you (such as a system administrator), in which case, you’ll want to ask them for the correct URL. Once loading the page, you should see something similiar to this.</p>
<div class="figure"><a id="d5e300"/><p class="title"><strong>Figure 4.1. Welcome to jUDDI, Please select a language.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-welcome.png" alt="Welcome to jUDDI"/></div>
</div></div><br class="figure-break"/>

<p>Select a language, then click the button labeled "Go".</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Would you like to see the jUDDI-GUI in a different language that the one’s listed and want to offer some translation help? Please contact us!</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>The juddi-gui stores your language preference as a cookie. No personally identifiable information is stored there.</p>
</div>

<p>After clicking on "Go", you should see something similar to the next two screen shots.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Why would it be different? The jUDDI GUI is based on the Twitter Bootstrap API and is designed to automatically rearrange the user interface based on screen size and resolution. Small form factor devices, such as tablets and smart phones generally function as normal, except that the upper navigation bar becomes condensed into a single button.</p>
</div>

<div class="figure"><a id="d5e315"/><p class="title"><strong>Figure 4.2. Full menu bar for computers or large displays.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-fullbootstrap-menu.png" alt="Full menu bar for computers or large displays."/></div>
</div></div><br class="figure-break"/>

<div class="figure"><a id="d5e322"/><p class="title"><strong>Figure 4.3. Tablet/Mobile menu bar for small displays.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-tabletbootstrap-menu.png" alt="Tablet/Mobile bar for small displays."/></div>
</div></div><br class="figure-break"/>

<p>For now, let’s just focus on the menu or navigation bar.</p>
</div>
</div>
<div class="section" title="4.3. The Menu Bar"><div class="titlepage"><div><div><h2 class="title"><a id="_the_menu_bar"/>4.3. The Menu Bar</h2></div></div></div>

<div class="figure"><a id="d5e332"/><p class="title"><strong>Figure 4.4. The Menu Bar.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-menu.png" alt="The Menu Bar"/></div>
</div></div><br class="figure-break"/>

<p>The menu bar is designed to make navigation simple and intuitive.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Home - This sub-menu contains links towards information that is tailored towards you, such as all the businesses you own, subscriptions, custody transfer, and publisher assertion (business relationships)
</li><li class="listitem">
Browse - This sub-menu makes it simple to find stuff in UDDI by letting you flip the pages of the directory.
</li><li class="listitem">
Create - This sub-menu makes it simple to create new UDDI entities, such as businesses, services, tModels, import from WSDL/WADL and some advanced operations.
</li><li class="listitem">
Settings - This page is typically access controlled and enables administrators to remotely configure the juddi-gui.
</li><li class="listitem">
Help - Contains links to the Internet for more help with jUDDI and source code access
</li><li class="listitem">
Login/Logout - many registries require authentication. These buttons support both HTTP and UDDI Auth Token style of authentication.
</li></ul></div>

</div>
<div class="section" title="4.4. Logging in to UDDI Services"><div class="titlepage"><div><div><h2 class="title"><a id="_logging_in_to_uddi_services"/>4.4. Logging in to UDDI Services</h2></div></div></div>

<p>Assuming that your UDDI services require authentication, you’ll probably want to login with your username and password. This is done using the Login/Logout section the Menu bar (top right of the screen).</p>
<div class="figure"><a id="d5e356"/><p class="title"><strong>Figure 4.5. Login Warning.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-login-warning.png" alt="Login Warning"/></div>
</div></div><br class="figure-break"/>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Caution</h2>
<p>If you happen to notice that a warning symbol next to the Login button, use caution! Your password may be exposed if you proceed.</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>The Warning symbol on the Login portion of the Menu bar will be present unless the following conditions are met: Communication from your browser to juddi-gui is encrypted using SSL/TLS AND the communication from juddi-gui to the UDDI services is encrypted using SSL/TLS.</p>
</div>

</div>
<div class="section" title="4.5. Logging Out"><div class="titlepage"><div><div><h2 class="title"><a id="_logging_out"/>4.5. Logging Out</h2></div></div></div>

<p>Once logged in, just "Welcome &lt;username&gt;" button to log out.</p>
</div>
<div class="section" title="4.6. Discover (Browse UDDI)"><div class="titlepage"><div><div><h2 class="title"><a id="_discover_browse_uddi"/>4.6. Discover (Browse UDDI)</h2></div></div></div>

<p>All of the Browse pages support pagination, that is you can flip through the pages of the database, as if it were a phone book.</p>
<p>In addition, search results can be filtered by language. On each Discover page, you will see the following</p>
<div class="figure"><a id="d5e374"/><p class="title"><strong>Figure 4.6. Browse Options.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-browse-options.png" alt="Browse Options"/></div>
</div></div><br class="figure-break"/>

<p>Click on "Click to Edit", enter your desired language code, then either press enter, or click "Ok" and the results will be filtered automatically. See "Language Codes" for more information.</p>
<div class="section" title="4.6.1. Business Browser"><div class="titlepage"><div><div><h3 class="title"><a id="_business_browser"/>4.6.1. Business Browser</h3></div></div></div>

<p>To browse for a UDDI Business, simply click on the word <span class="emphasis"><em>Discover</em></span> from the top navigation bar and select Businesses.</p>
<div class="figure"><a id="d5e386"/><p class="title"><strong>Figure 4.7. Browse Business.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-browse-business.png" alt="Browse Business"/></div>
</div></div><br class="figure-break"/>

<p>When clicking on "Show XX" (XX is the number of services that business has)</p>
<div class="figure"><a id="d5e394"/><p class="title"><strong>Figure 4.8. Browse Business Zoomed in.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-browse-business2.png" alt="Browse Business Zoomed in"/></div>
</div></div><br class="figure-break"/>

<p>The (+) Plus button will enable you to add a new service that belongs to the business on the same table row.</p>
</div>
<div class="section" title="4.6.2. Service Browser"><div class="titlepage"><div><div><h3 class="title"><a id="_service_browser"/>4.6.2. Service Browser</h3></div></div></div>

<p>To browse for a UDDI Service, simply click on the word <span class="emphasis"><em>Discover</em></span> from the top navigation bar and select Services. Clicking on the Name of the service, will bring you to the Service Editor page. Click on the owning Business key to bring you to the Business Editor page.</p>
<div class="figure"><a id="d5e406"/><p class="title"><strong>Figure 4.9. Service Browser.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-browse-services.png" alt="Service Browser"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.6.3. tModel Browser"><div class="titlepage"><div><div><h3 class="title"><a id="_tmodel_browser"/>4.6.3. tModel Browser</h3></div></div></div>

<p>To browse for a UDDI tModel simply click on the word <span class="emphasis"><em>Discover</em></span> from the top navigation bar and select tModel. Clicking on the Key of the tModel, will bring you to the tModel Editor page.</p>
<div class="figure"><a id="d5e417"/><p class="title"><strong>Figure 4.10. tModel Browser.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-browse-tmodel.png" alt="tModel Browser"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.6.4. Search"><div class="titlepage"><div><div><h3 class="title"><a id="_search"/>4.6.4. Search</h3></div></div></div>

<p>Searching UDDI provides you with the capabilities to make both simple and complex queries. To search, simply click on the word <span class="emphasis"><em>Discover</em></span> from the top navigation bar and select <span class="emphasis"><em>Search</em></span>.</p>
<div class="figure"><a id="d5e429"/><p class="title"><strong>Figure 4.11. Search.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-search.png" alt="Search"/></div>
</div></div><br class="figure-break"/>

<p>You first need to select what you’re looking for. You can either search a Business, Service, Binding Template, or tModel.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Not all combinations are valid. For instance, you can’t search for a Binding Template by Name because UDDI’s binding templates do not have names.</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>UDDI offers a wider, richer search capability. The juddi-gui’s search page is in comparison, limited. If you have the need for more complex searches, you’ll probably have to write some code to do so.</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>When using the wildcards (%, ?), you have to add the find qualifier, approximateMatch.</p>
</div>

</div>
</div>
<div class="section" title="4.7. Creating new Entities"><div class="titlepage"><div><div><h2 class="title"><a id="_creating_new_entities"/>4.7. Creating new Entities</h2></div></div></div>

<p>The jUDDI GUI has the ability to create and register new UDDI entities.</p>
<div class="section" title="4.7.1. Create a tModel"><div class="titlepage"><div><div><h3 class="title"><a id="_create_a_tmodel"/>4.7.1. Create a tModel</h3></div></div></div>

<p>From the menu, select Create, then tModel. For tModels, the only required item is the Name element.</p>
</div>
<div class="section" title="4.7.2. Create a tModek Key Generator (Partition)"><div class="titlepage"><div><div><h3 class="title"><a id="_create_a_tmodek_key_generator_partition"/>4.7.2. Create a tModek Key Generator (Partition)</h3></div></div></div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>If you want to create your own UDDI keys (recommended) rather than use the not so user friendly server generated GUID values, then you’ll have to make a Key Generator first! Read on!</p>
</div>

<p>A tModel Key Generator is a special kind of tModel that enables you to define your own keys (for anything in UDDI) for your own "domain". A "domain" is similar to the Domain Name System used by the Internet to resolve user friendly names, such as www.apache.org, to an IP address.  This effectively allows you to define any arbitrary UDDI key prefix that you want. For example, if you wanted a UDDI key defined as "uddi:www.mycompany.com:salesbusiness1", you would first have to create a tModel key generator (partition) with the value of "uddi:www.mycompany.com:keygenerator". TModel keys must start with "uddi:" and end with ":keygenerator". This is part of the UDDI specification and acts as a governance mechanism. You can also create a tModel Key Generator by using the Create tModel menu option and by adding the appropriate settings (assuming you know the secret sauce) or you can simply click on the word <span class="emphasis"><em>Create</em></span> from the top navigation bar and select <span class="emphasis"><em>tModel Partition (Key Generator)</em></span>.</p>
<div class="figure"><a id="d5e456"/><p class="title"><strong>Figure 4.12. Create a tModel Key Generator (Partition).</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-tmodel-keygen.png" alt="Create a tModel Key Generator (Partition)"/></div>
</div></div><br class="figure-break"/>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>You can also use nested partitions such as "uddi:www.mycompany.com:keygenerator" and "uddi:www.mycompany.com:sales:keygenerator". UDDI uses the colon ":" as a separator for partitions. This will enable you to make UDDI keys such as "uddi:www.mycompany.com:biz1" and "uddi:www.mycompany.com:sales:biz2".</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>UDDI key names can be at MOST 255 characters long!</p>
</div>

</div>
<div class="section" title="4.7.3. Create a Business"><div class="titlepage"><div><div><h3 class="title"><a id="_create_a_business"/>4.7.3. Create a Business</h3></div></div></div>

<p>The UDDI Business entity enables you to define and advertise your business with a variety of ways. To create a new business, simply click on the word <span class="emphasis"><em>Create</em></span> from the top navigation bar and select <span class="emphasis"><em>Business</em></span>.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>The "Create", "Business" page is also the same page to use when editing an existing business.</p>
</div>

<div class="figure"><a id="d5e474"/><p class="title"><strong>Figure 4.13. Create Business.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-create-business.png" alt="Create a Business"/></div>
</div></div><br class="figure-break"/>

<p>Businesses in UDDI only require you to define at least one name. All of fields are optional. Business entities can have 0 or more of just about everything. For now, let’s just make a Name, give it a Value and then save our new business. To add a new Name, click the "+" button next to the "Name". Then click on "Click to edit" next to "Value". If you make a mistake or wish to remove the "Name" or any other element, click on the trash can.</p>
<div class="figure"><a id="d5e482"/><p class="title"><strong>Figure 4.14. How to Add and Delete items.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-create-business3.png" alt="How to Add and Delete items"/></div>
</div></div><br class="figure-break"/>

<p>If you read the previous section on tModel Key Generators, then you know all about UDDI keys. This is your one and only chance to get it right. Once your done, click "Save". Congrats! You’ve just made your first UDDI business!</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>When working with UDDI entities, you cannot change the UDDI key after it has been created.</p>
</div>

<p>The Business Editor/Creator web page, along with the other editor/creator pages, has a ton of other interesting things that you can do. Since there’s way too much stuff to look at, we broke them up into logical sections.</p>
<div class="figure"><a id="d5e493"/><p class="title"><strong>Figure 4.15. Business Editor’s Section.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-create-business2.png" alt="Business Editor's Section"/></div>
</div></div><br class="figure-break"/>

<p>In case you can’t see the picture above:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
General - Names and Descriptions
</li><li class="listitem">
Discovery URLs - Usually a link to a web page
</li><li class="listitem">
Contacts - Points of Contact, such as Sales, Tech Support, etc
</li><li class="listitem">
Categories - These reference tModels and act as a way to categorize your business.
</li><li class="listitem">
Identifiers - Can be used for Tax IDs, DUNS Number, or anything else that you can think of.
</li><li class="listitem">
Services - This is the meat and potatoes of UDDI, advertising all the great services that your business provides.
</li><li class="listitem">
Signatures - Digital Signatures prevent tampering
</li><li class="listitem">
Operational Info - Who created it and when
</li><li class="listitem">
Related Businesses - This is where people can find out if you have a business relationship with someone else. It’s also called Publisher Assertions.
</li></ul></div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Clicking on each tab will supply additional information.</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>If a business, service, or tModel is signed, the juddi-gui will automatically attempt to validate the signature. You’ll see a thumbs up or thumbs down icon to let you know.</p>
</div>

</div>
<div class="section" title="4.7.4. Create a Service"><div class="titlepage"><div><div><h3 class="title"><a id="_create_a_service"/>4.7.4. Create a Service</h3></div></div></div>

<p>Creating a new service is simple so long as you remember that a service must be attached to a business. There are a few ways to create a new business.</p>
<p>The first option is to locate the business that you wish to add a service to via the Business Browser and then click the Plug button.</p>
<div class="figure"><a id="d5e528"/><p class="title"><strong>Figure 4.16. Add a Service via Business Browser.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-service-add1.png" alt="Add a Service via Business Browser"/></div>
</div></div><br class="figure-break"/>

<p>The second option is to bring up the Business Editor for the business you want to add a service to, then click on the Services tab, then "Add a Service".</p>
<div class="figure"><a id="d5e536"/><p class="title"><strong>Figure 4.17. Add a Service via Business Editor.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-service-add2.png" alt="Add a Service via Business Editor"/></div>
</div></div><br class="figure-break"/>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Services require at least one name. Everything else is considered optional.</p>
</div>

</div>
<div class="section" title="4.7.5. Import from WSDL or WADL"><div class="titlepage"><div><div><h3 class="title"><a id="_import_from_wsdl_or_wadl"/>4.7.5. Import from WSDL or WADL</h3></div></div></div>

<p>The jUDDI client provides programmatic access to convert a WSDL or WADL document into UDDI Service and tModel entries. The juddi-gui takes advantage of this and provides a simple to use interface to quickly and easily import your SOAP and REST services into UDDI.</p>
<p>From the Create menu, select Register Services from WSDL or WADL.</p>
<p>The process is pretty straight forward.</p>
<p>1.Provide the location of the WSDL or WADL file. It must be web accessible from the server hosting juddi-gui.war. If it is password protected (such as Digest, Basic or NTLM) provide a password to access the WSDL or WADL. Your credentials will not be saved anywhere.
1.The key domain. The imported UDDI service, binding, and tModels will all use this key partition/domain for key generation. The juddi-gui will populate this field with the domain of the URL entered in step 1. If you don’t like, go ahead and change it. One will be automatically created for you.
1.Pick a business to attach the imported data to.
1.Review and Approve. The Preview button will do all of the processing except saving the content, so it is a good way to get a preview of what will happen. Save will do the processing and save it.</p>
<div class="figure"><a id="d5e551"/><p class="title"><strong>Figure 4.18. Importing a Service from WSDL or WADL.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-import-wsdl.png" alt="Importing a Service from WSDL or WADL"/></div>
</div></div><br class="figure-break"/>

</div>
</div>
<div class="section" title="4.8. Custody Transfers"><div class="titlepage"><div><div><h2 class="title"><a id="_custody_transfers"/>4.8. Custody Transfers</h2></div></div></div>

<p>Custody Transfers are used to give away ownership and edit permission for UDDI business and tModels. It’s not used very often, but the workflow is simple.</p>
<p>1.Two business representatives agree to transfer either a business(s) or tModel(s) from business A to business B.
1.Business A creates a transfer token
1.Business A gives the transfer token data to Business B’s representative (perhaps via email?)
1.Business B accepts the token and transfers the ownership over.</p>
<p>All of these actions are processed at the Transfer Ownership page from the Home menu.</p>
<div class="figure"><a id="d5e563"/><p class="title"><strong>Figure 4.19. Custody Transfer.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-transfer.png" alt="Custody Transfer"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.9. Publisher Assertions"><div class="titlepage"><div><div><h2 class="title"><a id="_publisher_assertions"/>4.9. Publisher Assertions</h2></div></div></div>

<p>Publisher Assertions are how two different businesses can setup a UDDI Business Relationship. This essentially means that other users can see that this is a relationship between business A and B and that they can perform queries based on the relationship.</p>
<div class="figure"><a id="d5e573"/><p class="title"><strong>Figure 4.20. Publisher Assertion.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-publisherassertion.png" alt="Publisher Assertion"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.10. Subscriptions"><div class="titlepage"><div><div><h2 class="title"><a id="_subscriptions"/>4.10. Subscriptions</h2></div></div></div>

<p>Subscriptions in UDDI are used to easily detect when changes are made to a UDDI node.</p>
<div class="section" title="4.10.1. Create a new subscription"><div class="titlepage"><div><div><h3 class="title"><a id="_create_a_new_subscription"/>4.10.1. Create a new subscription</h3></div></div></div>

<p>To create a new subscription, you must first be logged in. Click on Home, then Create Subscription.</p>
<p>Subscriptions can either be for a set of specific items or for search results.</p>
<div class="figure"><a id="d5e587"/><p class="title"><strong>Figure 4.21. Create a Subscription, Specific Item or Search Results.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-subscription1.png" alt="Create a Subscription"/></div>
</div></div><br class="figure-break"/>

<p>In our example, we’ve selected a set of specific items.</p>
<p title="Create a Subscription, Select Items.">
<strong>Create a Subscription, Select Items. </strong>
image::images/juddi-gui-subscription2.png[Create a Subscription, Select Items
</p>
<p>To add an item to the list, click on Add. The item chooser will appear. Check each item to add them to the list. To remove, select the item, then click remove.</p>
<div class="figure"><a id="d5e599"/><p class="title"><strong>Figure 4.22. Create a Subscription, Add an item using the chooser.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-subscription3.png" alt="Create a Subscription"/></div>
</div></div><br class="figure-break"/>

<p>Specific items are added by entity keys.</p>
<div class="figure"><a id="d5e607"/><p class="title"><strong>Figure 4.23. Create a Subscription, Item Added.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-subscription4.png" alt="Create a Subscription"/></div>
</div></div><br class="figure-break"/>

<p>Next is the delivery mechanism. The UDDI node can deliver the notifications to you if you have your own implementation of the UDDI Subscription Listener service. (The juddi-client contains this for you if you were looking to develop a solution). In addition, the UDDI node can email the results to you (in XML format).</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Since jUDDI 3.2.1, you can also configure jUDDI to send you a more human readable version of the subscription notification. To configure, all that is needed is to add a special transport tModel instance to your subscription binding, uddi:uddi.org:transport:userfriendlysmtp.</p>
</div>

<p>The other option is to periodically poll the UDDI server and get your subscription results (see the News Feed).</p>
<p>Here, we’ve selected the, I’ll pick them up, option.</p>
<div class="figure"><a id="d5e619"/><p class="title"><strong>Figure 4.24. Create a Subscription, Delivery Mechanism.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-subscription5.png" alt="Create a Subscription"/></div>
</div></div><br class="figure-break"/>

<p>The final slider provides subscription options.
* Expiration - a date where the subscription expires
* Notification Interval - this is only used when the UDDI node sends the notifications to you via the Subscription Listener Service
* Brief - If true, the UDDI node will only tell you which items have changed, not what the change was.</p>
<div class="figure"><a id="d5e627"/><p class="title"><strong>Figure 4.25. Create a Subscription, Options.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-subscription6.png" alt="Create a Subscription"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.10.2. View My Subscriptions"><div class="titlepage"><div><div><h3 class="title"><a id="_view_my_subscriptions"/>4.10.2. View My Subscriptions</h3></div></div></div>

<p>To view, edit, and delete existing subscriptions, click on Home, then View Subscriptions.</p>
<div class="figure"><a id="d5e637"/><p class="title"><strong>Figure 4.26. View Subscriptions.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-subscription-view.png" alt="View Subscriptions"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.10.3. View the News Feed"><div class="titlepage"><div><div><h3 class="title"><a id="_view_the_news_feed"/>4.10.3. View the News Feed</h3></div></div></div>

<p>The New Feed is a simple page designed to show you subscription results for the past 24 hrs. To view the news feed, click on Home, then News Feed.</p>
</div>
</div>
<div class="section" title="4.11. Using Digital Signatures in juddi-gui"><div class="titlepage"><div><div><h2 class="title"><a id="UsingDigitalSignatures"/>4.11. Using Digital Signatures in juddi-gui</h2></div></div></div>

<p>The juddi-gui makes working with digital signatures simple and enables you do digitally sign and protect entities right from the web browser. It allows you to sign business, services and tModels.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Digital signatures are performed using the jUDDI Digital Signature Applet which requires a Java plugin for your web browser, as well as a digital certificate (X509).</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>You also need to have an X509 Certificate installed in either your Windows My/Current User Certificate Store or your MacOS Key Chain certificate store.</p>
</div>

<div class="section" title="4.11.1. Sign a Business, Service or tModel"><div class="titlepage"><div><div><h3 class="title"><a id="_sign_a_business_service_or_tmodel"/>4.11.1. Sign a Business, Service or tModel</h3></div></div></div>

<div class="figure"><a id="d5e656"/><p class="title"><strong>Figure 4.27. Select an entity, then click Digitally Sign.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-sign1.png" alt="Select an entity"/></div>
</div></div><br class="figure-break"/>

<div class="figure"><a id="d5e663"/><p class="title"><strong>Figure 4.28. Java Plugin Warnings.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-sign2.png" alt="Java Plugin Warnings"/></div>
</div></div><br class="figure-break"/>

<p>Select a certificate, then if you’re ready to sign, click on "Digitally Sign". This will automatically generate the signature and save it in the UDDI server.</p>
<div class="figure"><a id="d5e671"/><p class="title"><strong>Figure 4.29. Select a Signing Certificate.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-signerpanel1.png" alt="Select a Signing Certificate"/></div>
</div></div><br class="figure-break"/>

<p>Click on Certificate Info will display the following panel. This is useful if you have a few certificates that are similarly named.</p>
<div class="figure"><a id="d5e679"/><p class="title"><strong>Figure 4.30. Certificate Details.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-signerpanel3.png" alt="Certificate Details"/></div>
</div></div><br class="figure-break"/>

<p>The settings tab gives you a number of options for advanced users. We recommend that you leave the defaults as is.</p>
<div class="figure"><a id="d5e687"/><p class="title"><strong>Figure 4.31. Signature Settings.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-signerpanel2.png" alt="Signature Settings"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.11.2. Verify a signed UDDI entity"><div class="titlepage"><div><div><h3 class="title"><a id="_verify_a_signed_uddi_entity"/>4.11.2. Verify a signed UDDI entity</h3></div></div></div>

<p>Once an entity is signed, the juddi-gui will always attempt to validate the signature and will notify you if its signed and whether or not its valid.</p>
<p>In the following example, the business was signed.</p>
<div class="figure"><a id="d5e698"/><p class="title"><strong>Figure 4.32. Valid Signed Entity.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-signed-valid.png" alt="Valid Signed Entity"/></div>
</div></div><br class="figure-break"/>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>UDDI entities are hierarchical. A signed business entities includes all of the data for its services and binding templates. Any change to a service or binding template will cause the business’s signature to be invalid. TModels are not affected by this.</p>
</div>

<p>In the following example, one of the services own by the business was changed. Note that the signature is now invalid due to the alteration.</p>
<div class="figure"><a id="d5e708"/><p class="title"><strong>Figure 4.33. Invalid Signed Entity.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-signed-invalid.png" alt="Invalid Signed Entity"/></div>
</div></div><br class="figure-break"/>

</div>
</div>
<div class="section" title="4.12. Configuration"><div class="titlepage"><div><div><h2 class="title"><a id="_configuration"/>4.12. Configuration</h2></div></div></div>

<p>The configuration page is usually restricted to system administrators. There are many fields that are displayed. Some of the are editable, others are not. In general, the following settings can be changed (the others are just for troubleshooting and informational purposes).</p>
<p>Details on configuration is located in chapter, jUDDI Server Configuration.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
<p>Saving updates to the console configuration in <span class="emphasis"><em>juddi-gui/WEB-INF/classes/META-INF/uddi.xml</em></span> will only work if the juddi-gui is deployed as a folder.</p>
</div>

</div>
<div class="section" title="4.13. Language Codes"><div class="titlepage"><div><div><h2 class="title"><a id="_language_codes"/>4.13. Language Codes</h2></div></div></div>

<p>The Language Code is a field supported by UDDI that is inherited from the errata for XML Schema, which references RFC 3066, which can be read here: <a class="ulink" href="http://www.ietf.org/rfc/rfc3066.txt/">http://www.ietf.org/rfc/rfc3066.txt/</a>. In general, Language Codes are either 2 or 5 characters but can by up to 26 characters. Here’s a few examples</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
en
</li><li class="listitem">
en_US
</li><li class="listitem">
es_US
</li></ul></div>

<p>More can be found here: <a class="ulink" href="http://www.i18nguy.com/unicode/language-identifiers.html">http://www.i18nguy.com/unicode/language-identifiers.html</a></p>
</div>
<div class="section" title="4.14. Switching Nodes"><div class="titlepage"><div><div><h2 class="title"><a id="_switching_nodes"/>4.14. Switching Nodes</h2></div></div></div>

<p>The jUDDI GUI supports connectivity to multiple UDDI nodes. A UDDI Node is simple a collection of UDDI services that are all connected to the same data source. Another way to put it this, <span class="emphasis"><em>a UDDI server</em></span>. Each browser session to the jUDDI GUI has the ability to select the current Node connection. The current Node select is always saved as a cookie. To avoid any potential confusion, the currently selected Node is available both from the drop down Settings menu, and on the bottom of every page.</p>
<p>To switch nodes, simply select the desired node from the Settings menu.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>When switching nodes, any unsaved work that you have will be lost. You will also be logged out of the old node if you were signed in.</p>
</div>

<div class="figure"><a id="d5e742"/><p class="title"><strong>Figure 4.34. Node Switcher.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-gui-nodeswitcher.png" alt="Node Switcher"/></div>
</div></div><br class="figure-break"/>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Administrators can define the default node via the Setting, Configuration page.</p>
</div>

</div>
</div>
<div class="chapter" title="Chapter 5. Mapping WSDL and WSDL to UDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_mapping_wsdl_and_wsdl_to_uddi"/>Chapter 5. Mapping WSDL and WSDL to UDDI</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_introduction_2">5.1. Introduction</a></span></dt><dt><span class="section"><a href="#_use_case_wsdl">5.2. Use Case - WSDL</a></span></dt><dd><dl><dt><span class="section"><a href="#_sample_code">5.2.1. Sample Code</a></span></dt><dt><span class="section"><a href="#_links_to_sample_project">5.2.2. Links to sample project</a></span></dt></dl></dd><dt><span class="section"><a href="#_use_case_wadl">5.3. Use Case - WADL</a></span></dt><dd><dl><dt><span class="section"><a href="#_sample_code_2">5.3.1. Sample Code</a></span></dt><dt><span class="section"><a href="#_links_to_sample_project_2">5.3.2. Links to sample project</a></span></dt></dl></dd></dl></div>

<div class="section" title="5.1. Introduction"><div class="titlepage"><div><div><h2 class="title"><a id="_introduction_2"/>5.1. Introduction</h2></div></div></div>

<p>OASIS published a technical article which describes the recommended way to map the entries from a WSDL (Web Service Description Language) document into UDDI (<a class="ulink" href="https://www.oasis-open.org/committees/uddi-spec/doc/tn/uddi-spec-tc-tn-wsdl-v202-20040631.htm">https://www.oasis-open.org/committees/uddi-spec/doc/tn/uddi-spec-tc-tn-wsdl-v202-20040631.htm</a>). The jUDDI-client provides a convenient mechanism for this mapping. In addition, the jUDDI team provides a similar API for mapping a WADL (Web Application Description Language) document to UDDI. This guide will help you use the APIs to register a WSDL or WADL document that describes a service within a UDDI registry.</p>
</div>
<div class="section" title="5.2. Use Case - WSDL"><div class="titlepage"><div><div><h2 class="title"><a id="_use_case_wsdl"/>5.2. Use Case - WSDL</h2></div></div></div>

<p>The most basic use case is that we have one or more SOAP/WSDL based services from a 3rd party that was just stood up on our network and we wish to now advertise to our user base that this service exists. We could manually punch in the information, but what fun is that? Let’s import it using some code! This can be expanded to import services in bulk.</p>
<div class="section" title="5.2.1. Sample Code"><div class="titlepage"><div><div><h3 class="title"><a id="_sample_code"/>5.2.1. Sample Code</h3></div></div></div>

<pre class="screen">URL url = new URL("http://someURLtoYourWSDL");
ReadWSDL rw = new ReadWSDL();
Definition wsdlDefinition = rw.readWSDL(url);
Properties properties = new Properties();
properties.put("keyDomain", domain);
properties.put("businessName", domain);
properties.put("serverName", url.getHost());
properties.put("serverPort", url.getPort());
wsdlURL = wsdlDefinition.getDocumentBaseURI();
WSDL2UDDI wsdl2UDDI = new WSDL2UDDI(null, new URLLocalizerDefaultImpl(), properties);
//This creates a the services from WSDL
BusinessServices businessServices = wsdl2UDDI.createBusinessServices(wsdlDefinition);
//This creates the tModels from WSDL
Map&lt;QName, PortType&gt; portTypes = (Map&lt;QName, PortType&gt;) wsdlDefinition.getAllPortTypes();
//This creates more tModels from WSDL
Set&lt;TModel&gt; portTypeTModels = wsdl2UDDI.createWSDLPortTypeTModels(wsdlURL, portTypes);
Map allBindings = wsdlDefinition.getAllBindings();
//This creates even more tModels from WSDL
Set&lt;TModel&gt; createWSDLBindingTModels = wsdl2UDDI.createWSDLBindingTModels(wsdlURL, allBindin

//Now just save the tModels, then add the services to a new or existing business</pre>

</div>
<div class="section" title="5.2.2. Links to sample project"><div class="titlepage"><div><div><h3 class="title"><a id="_links_to_sample_project"/>5.2.2. Links to sample project</h3></div></div></div>

<div class="itemizedlist" title="SVN Links to sample projects"><p class="title"><strong>SVN Links to sample projects</strong></p><ul class="itemizedlist"><li class="listitem">
<a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/</a>
</li><li class="listitem">
<a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/wsdl2uddi/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/wsdl2uddi/</a>
</li><li class="listitem">
<a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/uddi-samples/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/uddi-samples/</a>
</li></ul></div>

<p>The examples are also available in both jUDDI distributions.</p>
</div>
</div>
<div class="section" title="5.3. Use Case - WADL"><div class="titlepage"><div><div><h2 class="title"><a id="_use_case_wadl"/>5.3. Use Case - WADL</h2></div></div></div>

<p>The most basic use case is that we have one or more REST/WADL based services from a 3rd party that was just stood up on our network and we wish to now advertise to our user base that this service exists. We could manually punch in the information, but what fun is that? Let’s import it using some code! This can be expanded to import services in bulk.</p>
<div class="section" title="5.3.1. Sample Code"><div class="titlepage"><div><div><h3 class="title"><a id="_sample_code_2"/>5.3.1. Sample Code</h3></div></div></div>

<pre class="screen">Application app = WADL2UDDI.ParseWadl(new URL("URL to WADL file"));
List&lt;URL&gt; urls = WADL2UDDI.GetBaseAddresses(app);
URL url = urls.get(0);
String domain = url.getHost();
Properties properties = new Properties();
properties.put("keyDomain", domain);
properties.put("businessName", domain);
properties.put("serverName", url.getHost());
properties.put("serverPort", url.getPort());
WADL2UDDI wadl2UDDI = new WADL2UDDI(null, new URLLocalizerDefaultImpl(), properties);

//creates the services
BusinessService businessServices = wadl2UDDI.createBusinessService(new QName("MyWasdl.namespace", "Servicename"), app);
//creates tModels (if any)
Set&lt;TModel&gt; portTypeTModels = wadl2UDDI.createWADLPortTypeTModels(wsdlURL, app);
//Now just save the tModels, then add the services to a new or existing business</pre>

</div>
<div class="section" title="5.3.2. Links to sample project"><div class="titlepage"><div><div><h3 class="title"><a id="_links_to_sample_project_2"/>5.3.2. Links to sample project</h3></div></div></div>

<div class="itemizedlist" title="SVN Links to sample projects"><p class="title"><strong>SVN Links to sample projects</strong></p><ul class="itemizedlist"><li class="listitem">
<a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/</a>
</li><li class="listitem">
<a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/uddi-samples/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/uddi-samples/</a>
</li></ul></div>

<p>The examples are also available in both jUDDI distributions.</p>
</div>
</div>
</div>
<div class="chapter" title="Chapter 6. Using UDDI Annotations"><div class="titlepage"><div><div><h2 class="title"><a id="_using_uddi_annotations"/>Chapter 6. Using UDDI Annotations</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_uddi_service_annotation">6.1. UDDI Service Annotation</a></span></dt><dt><span class="section"><a href="#_uddiservicebinding_annotation">6.2. UDDIServiceBinding Annotation</a></span></dt><dd><dl><dt><span class="section"><a href="#_java_web_service_example">6.2.1. Java Web Service Example</a></span></dt><dt><span class="section"><a href="#_wiring_it_all_together">6.2.2. Wiring it all together</a></span></dt></dl></dd><dt><span class="section"><a href="#__net_web_service_example">6.3. .NET Web Service Example</a></span></dt><dd><dl><dt><span class="section"><a href="#_wiring_it_all_together_2">6.3.1. Wiring it all together</a></span></dt></dl></dd><dt><span class="section"><a href="#_categorybag_attribute">6.4. CategoryBag Attribute</a></span></dt><dt><span class="section"><a href="#_considerations_for_clustered_or_load_balanced_web_servers_and_automated_registration">6.5. Considerations for clustered or load balanced web servers and automated registration</a></span></dt></dl></div>

<p>Conventionally Services (BusinessService) and their EndPoints (BindingTemplates) are registered to a UDDI Registry using a GUI, where an admin user manually adds the necessary info. This process tends to make the data in the Registry rather static and the data can grow stale over time. To make the data in the UDDI more dynamic it makes sense to register and EndPoint (BindingTemplate) when it comes online, which is when it gets deployed. The UDDI annotations are designed to just that: register a Service when it get deployed to an Application Server. There are two annotations: UDDIService, and UDDIServiceBinding. You need to use both annotations to register an EndPoint. Upon undeployment of the Service, the EndPoint will be de-registered from the UDDI. The Service information stays in the UDDI. It makes sense to leave the Service level information in the Registry since this reflects that the Service is there, however there is no EndPoint at the moment ("Check back later"). It is a manual process to remove the Service information. The annotations use the juddi-client library which means that they can be used to register to any UDDIv3 registry.</p>
<div class="section" title="6.1. UDDI Service Annotation"><div class="titlepage"><div><div><h2 class="title"><a id="_uddi_service_annotation"/>6.1. UDDI Service Annotation</h2></div></div></div>

<p>The UDDIService annotation is used to register a service under an already existing business in the Registry. The annotation should be added at the class level of the java class.</p>
<div class="table"><a id="d5e800"/><p class="title"><strong>Table 6.1. UDDIService attributes</strong></p><div class="table-contents">

  
  <table summary="UDDIService attributes" border="1"><colgroup><col width="33*" class="col_1"/><col width="33*" class="col_2"/><col width="33*" class="col_3"/></colgroup><thead><tr><th align="left" valign="top">attribute</th><th align="left" valign="top">description</th><th align="left" valign="top">required</th></tr></thead><tbody><tr><td align="left" valign="top"><p>serviceName</p></td><td align="left" valign="top"><p>The name of the service, by default the clerk will use the one name specified in the WebService annotation</p></td><td align="left" valign="top"><p>no</p></td></tr><tr><td align="left" valign="top"><p>description</p></td><td align="left" valign="top"><p>Human readable description of the service</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p>serviceKey</p></td><td align="left" valign="top"><p>UDDI v3 Key of the Service</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p>businessKey</p></td><td align="left" valign="top"><p>UDDI v3 Key of the Business that should own this Service. The business should exist in the registry at time of registration</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p>lang</p></td><td align="left" valign="top"><p>Language locale which will be used for the name and description, defaults to "en" if omitted</p></td><td align="left" valign="top"><p>no</p></td></tr><tr><td align="left" valign="top"><p>categoryBag</p></td><td align="left" valign="top"><p>Definition of a CategoryBag, see below for details</p></td><td align="left" valign="top"><p>no</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="6.2. UDDIServiceBinding Annotation"><div class="titlepage"><div><div><h2 class="title"><a id="_uddiservicebinding_annotation"/>6.2. UDDIServiceBinding Annotation</h2></div></div></div>

<p>The UDDIServiceBinding annotation is used to register a BindingTemplate to the UDDI registry. This annotation cannot be used by itself. It needs to go along side a UDDIService annotation.</p>
<div class="table"><a id="d5e857"/><p class="title"><strong>Table 6.2. UDDIServiceBinding attributes</strong></p><div class="table-contents">

  
  <table summary="UDDIServiceBinding attributes" border="1"><colgroup><col width="33*" class="col_1"/><col width="33*" class="col_2"/><col width="33*" class="col_3"/></colgroup><thead><tr><th align="left" valign="top">attribute</th><th align="left" valign="top">description</th><th align="left" valign="top">required</th></tr></thead><tbody><tr><td align="left" valign="top"><p>bindingKey</p></td><td align="left" valign="top"><p>UDDI v3 Key of the ServiceBinding</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p>description</p></td><td align="left" valign="top"><p>Human readable description of the service</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"> </td><td align="left" valign="top"><p>accessPointType	UDDI v3 AccessPointType, defaults to wsdlDeployment if omitted</p></td><td align="left" valign="top"><p>no</p></td></tr><tr><td align="left" valign="top"><p>accessPoint</p></td><td align="left" valign="top"><p>Endpoint reference</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p>lang</p></td><td align="left" valign="top"><p>Language locale which will be used for the name and description, defaults to "en" if omitted</p></td><td align="left" valign="top"><p>no</p></td></tr><tr><td align="left" valign="top"><p>tModelKeys</p></td><td align="left" valign="top"><p>Comma-separated list of tModelKeys key references</p></td><td align="left" valign="top"><p>no</p></td></tr><tr><td align="left" valign="top"><p>categoryBag</p></td><td align="left" valign="top"><p>Definition of a CategoryBag, see below for further details</p></td><td align="left" valign="top"><p>no</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

<div class="section" title="6.2.1. Java Web Service Example"><div class="titlepage"><div><div><h3 class="title"><a id="_java_web_service_example"/>6.2.1. Java Web Service Example</h3></div></div></div>

<p>The annotations can be used on any class that defines a service. Here they are added to a WebService, a POJO with a JAX-WS <span class="emphasis"><em>WebService</em></span> annotation.</p>
<pre class="screen">package org.apache.juddi.samples;

import javax.jws.WebService;
import org.apache.juddi.v3.annotations.UDDIService;
import org.apache.juddi.v3.annotations.UDDIServiceBinding;

@UDDIService(
  businessKey="uddi:myBusinessKey",
  serviceKey="uddi:myServiceKey",
  description = "Hello World test service")
@UDDIServiceBinding(
  bindingKey="uddi:myServiceBindingKey",
  description="WSDL endpoint for the helloWorld Service. This service is used for "
				  + "testing the jUDDI annotation functionality",
  accessPointType="wsdlDeployment",
  accessPoint="http://localhost:8080/juddiv3-samples/services/helloworld?wsdl")
@WebService(
  endpointInterface = "org.apache.juddi.samples.HelloWorld",
  serviceName = "HelloWorld")

public class HelloWorldImpl implements HelloWorld {
    public String sayHi(String text) {
        System.out.println("sayHi called");
        return "Hello " + text;
    }
}</pre>

<p>On deployment of this WebService, the juddi-client code will scan this class for UDDI annotations and take care of the registration process. The configuration file uddi.xml of the juddi-client is described in the chapter, Using the jUDDI-Client. In the clerk section you need to reference the Service class <span class="emphasis"><em>org.apache.juddi.samples.HelloWorldImpl</em></span>:</p>
<pre class="screen">&lt;clerk name="BobCratchit" node="default" publisher="sales" password="sales"&gt;
     &lt;class&gt;org.apache.juddi.samples.HelloWorldImpl&lt;/class&gt;
&lt;/clerk&gt;</pre>

<p>which means that Bob is using the node connection setting of the node with name "default", and that he will be using the "sales" publisher, for which the password it "sales". There is some analogy here as to how datasources are defined.</p>
</div>
<div class="section" title="6.2.2. Wiring it all together"><div class="titlepage"><div><div><h3 class="title"><a id="_wiring_it_all_together"/>6.2.2. Wiring it all together</h3></div></div></div>

<p>The mechanism that triggers the automated registration is the UDDIClient. For each class you annotation, the class needs to be listed in the jUDDI Client Configuration file. When the client reads in the configuration, it will read the uddi.xml config file for the following location:</p>
<pre class="screen">client/clerks/clerk[].class</pre>

<p>In addition, the following flag must be set to true.</p>
<pre class="screen">client/clerks@registerOnStartup="true"</pre>

<p>Here’s a full example</p>
<pre class="screen">&lt;clerks registerOnStartup="false" &gt;
    &lt;clerk name="default" node="default" publisher="userjoe" password="******" cryptoProvider="" isPasswordEncrypted="false"&gt;
        &lt;class&gt;com.mybiz.services.Service1&lt;/class&gt;
    &lt;/clerk&gt;
&lt;/clerks&gt;</pre>

<p>The next step is to automate the "starting" and "stopping" of UDDIClient. In Java, anything that runs in a servlet container and use the following servlet class:</p>
<pre class="screen">org.apache.juddi.v3.client.config.UDDIClerkServlet</pre>

<p>It will automatically handle registration on start up and it will remove binding Templates on shutdown (this ensuring clients that discover the endpoint won’t find a dead link).</p>
<p>Clients that run elsewhere simply need to "start" the UDDIClient.</p>
<pre class="screen">//start up
UDDIClient clerkManager = new UDDIClient("META-INF/uddi.xml");
// register the clerkManager with the client side container
UDDIClientContainer.addClient(clerkManager);
clerkManager.start(); //will create business/services/bindings as necessary

//shutdown down
clerkManager.stop(); //will unregister binding templates</pre>

</div>
</div>
<div class="section" title="6.3. .NET Web Service Example"><div class="titlepage"><div><div><h2 class="title"><a id="__net_web_service_example"/>6.3. .NET Web Service Example</h2></div></div></div>

<p>In .NET, the procedure is almost identical to Java. Annotate your web service classes, append the classnames to your uddi.xml client config file. .NET annotations work with any WCF, ASP.NET or any other class.</p>
<div class="section" title="6.3.1. Wiring it all together"><div class="titlepage"><div><div><h3 class="title"><a id="_wiring_it_all_together_2"/>6.3.1. Wiring it all together</h3></div></div></div>

<p>In .NET, there’s a few options, each with pro’s and con’s for automating registration.</p>
<div class="section" title="6.3.1.1. Use UDDIClient in your service’s constructor"><div class="titlepage"><div><div><h4 class="title"><a id="_use_uddiclient_in_your_service_s_constructor"/>6.3.1.1. Use UDDIClient in your service’s constructor</h4></div></div></div>

<p>Pro: It’s simple
Con: Services often get multiple instances depending on the number of worker threads in the server and thus can cause some concurrency issues.</p>
</div>
<div class="section" title="6.3.1.2. Use UDDIClient in Global.asa Application_Start"><div class="titlepage"><div><div><h4 class="title"><a id="_use_uddiclient_in_global_asa_application_start"/>6.3.1.2. Use UDDIClient in Global.asa Application_Start</h4></div></div></div>

<p>Pro: It’s simple
Con: You need .NET 4.0 and ASP.NET enabled in order to utilize this function</p>
<p>More information about this can be found here: <a class="ulink" href="http://weblogs.asp.net/scottgu/archive/2009/09/15/auto-start-asp-net-applications-vs-2010-and-net-4-0-series.aspx">http://weblogs.asp.net/scottgu/archive/2009/09/15/auto-start-asp-net-applications-vs-2010-and-net-4-0-series.aspx</a></p>
</div>
</div>
</div>
<div class="section" title="6.4. CategoryBag Attribute"><div class="titlepage"><div><div><h2 class="title"><a id="_categorybag_attribute"/>6.4. CategoryBag Attribute</h2></div></div></div>

<p>The CategoryBag attribute allows you to reference tModels. For example the following categoryBag</p>
<pre class="screen">&lt;categoryBag&gt;
    &lt;keyedReference tModelKey="uddi:uddi.org:categorization:types"
     keyName="uddi-org:types:wsdl" keyValue="wsdlDeployment" /&gt;
    &lt;keyedReference tModelKey="uddi:uddi.org:categorization:types"
     keyName="uddi-org:types:wsdl2" keyValue="wsdlDeployment2" /&gt;
&lt;/categoryBag&gt;</pre>

<p>can be put in like</p>
<pre class="screen">categoryBag="keyedReference=keyName=uddi-org:types:wsdl;keyValue=wsdlDeployment;" +
            "tModelKey=uddi:uddi.org:categorization:types," +
                     "keyedReference=keyName=uddi-org:types:wsdl2;keyValue=wsdlDeployment2;" +
            "tModelKey=uddi:uddi.org:categorization:types2",</pre>

</div>
<div class="section" title="6.5. Considerations for clustered or load balanced web servers and automated registration"><div class="titlepage"><div><div><h2 class="title"><a id="_considerations_for_clustered_or_load_balanced_web_servers_and_automated_registration"/>6.5. Considerations for clustered or load balanced web servers and automated registration</h2></div></div></div>

<p>Most production environments have primary and failover web servers and/or an intelligent load balancer that routers traffic to whichever server is online. When using automated registration with the jUDDI client, care must be taken when enabling automated registration.</p>
</div>
</div>
<div class="chapter" title="Chapter 7. Using the UDDI v2 Services and Adapters"><div class="titlepage"><div><div><h2 class="title"><a id="_using_the_uddi_v2_services_and_adapters"/>Chapter 7. Using the UDDI v2 Services and Adapters</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_introduction_3">7.1. Introduction</a></span></dt><dt><span class="section"><a href="#_accessing_uddi_v2_services_using_the_juddi_v3_client">7.2. Accessing UDDI v2 services using the jUDDI v3 Client</a></span></dt><dt><span class="section"><a href="#_accessing_uddi_v2_services_using_uddi_v2_apis">7.3. Accessing UDDI v2 services using UDDI v2 APIs</a></span></dt><dt><span class="section"><a href="#_accessing_juddi_v3_services_from_an_existing_uddi_v2_based_client_plugin_or_tool">7.4. Accessing jUDDI v3 services from an existing UDDI v2 based client, plugin or tool</a></span></dt><dt><span class="section"><a href="#_additional_information">7.5. Additional Information</a></span></dt></dl></div>

<div class="section" title="7.1. Introduction"><div class="titlepage"><div><div><h2 class="title"><a id="_introduction_3"/>7.1. Introduction</h2></div></div></div>

<p>Starting with jUDDI version 3.2, a number of adapters are provided to help you use or access UDDI version 2 based services. There are a multitude of options and will be discussed in the following sections.</p>
</div>
<div class="section" title="7.2. Accessing UDDI v2 services using the jUDDI v3 Client"><div class="titlepage"><div><div><h2 class="title"><a id="_accessing_uddi_v2_services_using_the_juddi_v3_client"/>7.2. Accessing UDDI v2 services using the jUDDI v3 Client</h2></div></div></div>

<p>Accessing UDDI v2 services via the jUDDI v3 client is quite simple. All that’s required is modification of the uddi.xml client configuration file. Simply set the transport to:</p>
<pre class="screen">org.apache.juddi.v3.client.transport.JAXWSv2TranslationTransport</pre>

<p>…and adjust the <span class="emphasis"><em>inquiryUrl</em></span> and <span class="emphasis"><em>publishUrl</em></span> URL endpoints.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>When accessing UDDI v2, Custody Transfer, Subscription, Replication and Value Set APIs will not be available and may generate unexpected behavior. The UDDIv3 Inquiry getOperationalInfo method is only partially mapped.</p>
</div>

<p>That’s it. No code changes are required other than to avoid Custody Transfer, Subscription, Replication and Value Set APIs. In addition, digital signatures are not mapped.</p>
</div>
<div class="section" title="7.3. Accessing UDDI v2 services using UDDI v2 APIs"><div class="titlepage"><div><div><h2 class="title"><a id="_accessing_uddi_v2_services_using_uddi_v2_apis"/>7.3. Accessing UDDI v2 services using UDDI v2 APIs</h2></div></div></div>

<p>The jUDDI v3 client now contains the UDDI 2 web service clients. Although, there isn’t currently a configuration/transport/client/clerk wrapper for it, you can still get access to web service clients with the following code:</p>
<pre class="screen">org.apache.juddi.v3.client.UDDIServiceV2 svc = new UDDIServiceV2();
Inquire port = svc.getInquire();
((BindingProvider) port).getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, "http://localhost:8080/juddiv3/services/inquiryv2");
Publish pub= svc.getPublish();
((BindingProvider) pub).getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, "http://localhost:8080/juddiv3/services/publishv2");</pre>

<p>All you need to reference the following projects/jars from jUDDI:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
juddi-client
</li><li class="listitem">
uddi-ws
</li></ul></div>

</div>
<div class="section" title="7.4. Accessing jUDDI v3 services from an existing UDDI v2 based client, plugin or tool"><div class="titlepage"><div><div><h2 class="title"><a id="_accessing_juddi_v3_services_from_an_existing_uddi_v2_based_client_plugin_or_tool"/>7.4. Accessing jUDDI v3 services from an existing UDDI v2 based client, plugin or tool</h2></div></div></div>

<p>When UDDI v2 was release, many application developers jumped on board to support it. As such, there are many UDDI v2 tools that exist, such as IDE plugins like Eclipse’s Web Services Explorer. To support legacy tools, jUDDI now offers UDDI v2 endpoints. Simple point your tool at the following URLs. You’ll have to alter them to match your environment.</p>
<pre class="screen">http://localhost:8080/juddiv3/services/inquiryv2
http://localhost:8080/juddiv3/services/publishv2</pre>

</div>
<div class="section" title="7.5. Additional Information"><div class="titlepage"><div><div><h2 class="title"><a id="_additional_information"/>7.5. Additional Information</h2></div></div></div>

<p>The UDDI v2 adapters provide basic mappings from to and from UDDI v3. The juddi-client has several mapping functions that are used both client and service side to convert from UDDI v2 to UDDI v3. In addition, the client has as several interface adapters to help with a seamless transition.</p>
</div>
</div>
<div class="chapter" title="Chapter 8. UDDI Migration and Backup Tool"><div class="titlepage"><div><div><h2 class="title"><a id="_uddi_migration_and_backup_tool"/>Chapter 8. UDDI Migration and Backup Tool</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_using_the_tool">8.1. Using the tool</a></span></dt><dd><dl><dt><span class="section"><a href="#_get_help">8.1.1. Get help</a></span></dt><dt><span class="section"><a href="#_use_case_basic_import_and_export">8.1.2. Use case: basic import and export</a></span></dt><dt><span class="section"><a href="#_use_case_import_and_export_while_preserving_ownership_information">8.1.3. Use case: Import and Export while preserving ownership information</a></span></dt></dl></dd></dl></div>

<p>The UDDI Migration and Backup Tool can be used to perform a number of administrative tasks such as</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Backup the contents of a UDDI server (business, services, binding templates and tModels)
</li><li class="listitem">
Import contents into a UDDI server (business, services, binding templates and tModels)
</li></ul></div>

<p>In addition, the migration tool has a few features that serve as job aids.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Ability to remove digital signatures on Import or Export
</li><li class="listitem">
Ability to maintain ownership properties of UDDI entries
</li><li class="listitem">
Ability to export and import Publishers (jUDDI only)
</li><li class="listitem">
Automatically skip an item on import if the entity key already exists
</li></ul></div>

<p>The UDDI Migration and Backup Tool is Command Line Interface program and has a number of use cases such as:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Copying data from one registry to another
</li><li class="listitem">
Migrating from one vendor to another
</li><li class="listitem">
Periodic backups
</li><li class="listitem">
Upgrades to jUDDI
</li></ul></div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>The migration tool will not overwrite data when importing.</p>
</div>

<div class="section" title="8.1. Using the tool"><div class="titlepage"><div><div><h2 class="title"><a id="_using_the_tool"/>8.1. Using the tool</h2></div></div></div>

<p>There are many configuration options and settings for the migration tool. This tool is distributed with the uddi client distribution package.</p>
<div class="section" title="8.1.1. Get help"><div class="titlepage"><div><div><h3 class="title"><a id="_get_help"/>8.1.1. Get help</h3></div></div></div>

<pre class="screen">&gt;java -jar juddi-migration-tool-3.2.0-SNAPSHOT-jar-with-dependencies.jar
This tool is used to export and import UDDI data from a UDDI v3 registry
Random TIP: Without the preserveOwnership flag, all imported data will be owned by the username that imported it.

usage: java -jar juddi-migration-tool-(VERSION)-jar-with-dependencies.jar
 -business &lt;arg&gt;      Im/Export option, file to store the business data,
                      default is 'business-export.xml'
 -config &lt;arg&gt;        Use an alternate config file default is 'uddi.xml'
 -credFile &lt;arg&gt;      Import option with -preserveOwnership, this is a
                      properties file mapping with user=pass
 -export              Exports data into a UDDIv3 registry
 -import              Imports data into a UDDIv3 registry
 -isJuddi             Is this a jUDDI registry? If so we can in/export
                      more stuff
 -mappings &lt;arg&gt;      Im/Export option, file that maps keys to owners,
                      default is 'entityusermappings.properties'
 -myItemsOnly         Export option, Only export items owned by yourself
 -node &lt;arg&gt;          The node 'name' in the config, default is 'default'
 -pass &lt;arg&gt;          Password, if not defined, those is uddi.xml will be
                      used
 -preserveOwnership   Im/Export option, saves owership data to the
                      'mappings' file
 -publishers &lt;arg&gt;    jUDDI only - In/Export option, file to store
                      publishers, default is 'publishers-export.xml'
 -stripSignatures     Im/Export option, removes digital signatures from
                      all signed items, default is false
 -tmodel &lt;arg&gt;        Im/Export for tmodels, file to store tmodel data,
                      default is 'tmodel-export.xml'
 -user &lt;arg&gt;          Username, if not defined, those is uddi.xml will be
                      used</pre>

</div>
<div class="section" title="8.1.2. Use case: basic import and export"><div class="titlepage"><div><div><h3 class="title"><a id="_use_case_basic_import_and_export"/>8.1.2. Use case: basic import and export</h3></div></div></div>

<p>To export everything without preserving ownership information:</p>
<pre class="screen">java -jar juddi-migration-tool-(VERSION)-jar-with-dependencies.jar -export</pre>

<p>To import everything without preserving ownership information:</p>
<pre class="screen">java -jar juddi-migration-tool-(VERSION)-jar-with-dependencies.jar -import</pre>

</div>
<div class="section" title="8.1.3. Use case: Import and Export while preserving ownership information"><div class="titlepage"><div><div><h3 class="title"><a id="_use_case_import_and_export_while_preserving_ownership_information"/>8.1.3. Use case: Import and Export while preserving ownership information</h3></div></div></div>

<p>To export everything with preserving ownership information:</p>
<pre class="screen">java -jar juddi-migration-tool-(VERSION)-jar-with-dependencies.jar -export -preserveOwnership</pre>

<p>To import everything with preserving ownership information, first edit the mappings file which is entityusermappings.properties by default. Once every user has a password, run the following command</p>
<pre class="screen">java -jar juddi-migration-tool-(VERSION)-jar-with-dependencies.jar -import -preserveOwnership</pre>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>When preserving ownership information, upon import, you’ll need every UDDI entity owner’s password. If you don’t have this and you’re using jUDDI, you can temporarily switch jUDDI to the <span class="emphasis"><em>DefaultAuthenticator</em></span> which doesn’t validate passwords (just put anything in the mappings file for each user). Once the import is complete, you can then switch back to whatever authenticator you were using before.</p>
</div>

</div>
</div>
</div>
<div class="chapter" title="Chapter 9. Using the jUDDI REST Services"><div class="titlepage"><div><div><h2 class="title"><a id="_using_the_juddi_rest_services"/>Chapter 9. Using the jUDDI REST Services</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_url_patterns_and_methods">9.1. URL Patterns and methods</a></span></dt><dd><dl><dt><span class="section"><a href="#_endpoints">9.1.1. Endpoints</a></span></dt><dt><span class="section"><a href="#_methods">9.1.2. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="#_example_output">9.2. Example Output</a></span></dt><dd><dl><dt><span class="section"><a href="#_xml">9.2.1. XML</a></span></dt><dt><span class="section"><a href="#_json">9.2.2. JSON</a></span></dt></dl></dd><dt><span class="section"><a href="#_more_information">9.3. More information</a></span></dt></dl></div>

<p>jUDDI includes a Inquiry API adapter that exposes some of the basic functionality of UDDI via REST. Data can be retrieved in both XML and JSON encoding for all methods.</p>
<div class="section" title="9.1. URL Patterns and methods"><div class="titlepage"><div><div><h2 class="title"><a id="_url_patterns_and_methods"/>9.1. URL Patterns and methods</h2></div></div></div>

<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
All jUDDI Inquiry REST service are accessible via HTTP GET.
</li><li class="listitem">
Authentication is not yet supported. This also implies that the Inquiry API must be configured for anonymous access (i.e. do not turn on Inquiry Authentication Required).
</li><li class="listitem">
The jUDDI Inquiry REST service is not currently portable as an adapter to other UDDI instances (but it could be adapted to it in the future)
</li></ol></div>

<div class="section" title="9.1.1. Endpoints"><div class="titlepage"><div><div><h3 class="title"><a id="_endpoints"/>9.1.1. Endpoints</h3></div></div></div>

<p>All endpoints must be prefixed with http(s)://server:port/juddicontext/ where <span class="emphasis"><em>juddicontext</em></span> is typically <span class="emphasis"><em>juddiv3</em></span>.</p>
<p>WADL Document: <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest?_wadl">http://localhost:8080/juddiv3/services/inquiryRest?_wadl</a></p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>All of the examples in this document reference JSON encoded messages. To switch to XML messages, just replace the <span class="emphasis"><em>JSON</em></span> with <span class="emphasis"><em>XML</em></span> in the URL. That’s it!</p>
</div>

</div>
<div class="section" title="9.1.2. Methods"><div class="titlepage"><div><div><h3 class="title"><a id="_methods"/>9.1.2. Methods</h3></div></div></div>

<p>Each method is accessible using the following pattern:</p>
<pre class="screen">http://localhost:8080/juddiv3/services/inquiryRest/{encoding}/{method}/{parameters}
//or
http://localhost:8080/juddiv3/services/inquiryRest/{encoding}/{method}?{name=value}</pre>

<p>Notes</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Encoding - Can be <span class="emphasis"><em>XML</em></span> or <span class="emphasis"><em>JSON</em></span>
</li><li class="listitem">
Methods - See below
</li><li class="listitem">
Parameters - usually a unique UDDI key
</li></ul></div>

<div class="section" title="9.1.2.1. xxxList"><div class="titlepage"><div><div><h4 class="title"><a id="_xxxlist"/>9.1.2.1. xxxList</h4></div></div></div>

<p>Returns up to 100 items within a KeyBag object, containing a list of all keys for the given object type.</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
serviceList - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/serviceList">http://localhost:8080/juddiv3/services/inquiryRest/JSON/serviceList</a>
</li><li class="listitem">
businessList - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/businessList">http://localhost:8080/juddiv3/services/inquiryRest/JSON/businessList</a>
</li><li class="listitem">
tModelList - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/tModelList">http://localhost:8080/juddiv3/services/inquiryRest/JSON/tModelList</a>
</li></ol></div>

</div>
<div class="section" title="9.1.2.2. endpointsByService/key"><div class="titlepage"><div><div><h4 class="title"><a id="_endpointsbyservice_key"/>9.1.2.2. endpointsByService/key</h4></div></div></div>

<p>Returns all executable endpoints for a given service key, including all binding Templates. This also resolves hosting redirector and a number of other accessPoint useType specifics.</p>
<p>Example:</p>
<pre class="screen">http://localhost:8080/juddiv3/services/inquiryRest/JSON/endpointsByService/uddi:juddi.apache.org:services-custodytransfer</pre>

</div>
<div class="section" title="9.1.2.3. getDetail"><div class="titlepage"><div><div><h4 class="title"><a id="_getdetail"/>9.1.2.3. getDetail</h4></div></div></div>

<p>Return the details of a specific item using query parameters. This implements the UDDI recommendation for HTTP GET services for UDDI. See <a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908158">http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908158</a> for further information.</p>
<p>Example:</p>
<pre class="screen">http://localhost:8080/juddiv3/services/inquiryRest/XML/getDetail?businessKey=uddi:juddi.apache.org:businesses-asf</pre>

<p>The following query parameters are supported. Only one can be specified at a time</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
businessKey/(key) - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?businessKey=uddi:juddi.apache.org:businesses-asf">http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?businessKey=uddi:juddi.apache.org:businesses-asf</a>
</li><li class="listitem">
tModelKey/(key) -  <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?tModelKey=uddi:uddi.org:categorization:types">http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?tModelKey=uddi:uddi.org:categorization:types</a>
</li><li class="listitem">
bindingKey/(key) - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?bindingKey=uddi:juddi.apache.org:servicebindings-inquiry-ws">http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?bindingKey=uddi:juddi.apache.org:servicebindings-inquiry-ws</a>
</li><li class="listitem">
serviceKey/(key) - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?serviceKey=uddi:juddi.apache.org:services-inquiry">http://localhost:8080/juddiv3/services/inquiryRest/JSON/getDetail?serviceKey=uddi:juddi.apache.org:services-inquiry</a>
</li></ol></div>

</div>
<div class="section" title="9.1.2.4. xxxKey"><div class="titlepage"><div><div><h4 class="title"><a id="_xxxkey"/>9.1.2.4. xxxKey</h4></div></div></div>

<p>Return the details of a specific item. This is similar to getDetail except that it is not based on query parameters. The underlying code of this function is the same as getDetail.</p>
<p>Example:</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
businessKey/(key) - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/businessKey/uddi:juddi.apache.org:businesses-asf">http://localhost:8080/juddiv3/services/inquiryRest/JSON/businessKey/uddi:juddi.apache.org:businesses-asf</a>
</li><li class="listitem">
tModelKey/(key) -  <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/tModelKey/uddi:uddi.org:categorization:types">http://localhost:8080/juddiv3/services/inquiryRest/JSON/tModelKey/uddi:uddi.org:categorization:types</a>
</li><li class="listitem">
bindingKey/(key) - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/bindingKey/uddi:juddi.apache.org:servicebindings-inquiry-ws">http://localhost:8080/juddiv3/services/inquiryRest/JSON/bindingKey/uddi:juddi.apache.org:servicebindings-inquiry-ws</a>
</li><li class="listitem">
serviceKey/(key) - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/serviceKey/uddi:juddi.apache.org:services-inquiry">http://localhost:8080/juddiv3/services/inquiryRest/JSON/serviceKey/uddi:juddi.apache.org:services-inquiry</a>
</li><li class="listitem">
opInfo/(key) - <a class="ulink" href="http://localhost:8080/juddiv3/services/inquiryRest/JSON/opInfo/uddi:juddi.apache.org:businesses-asf">http://localhost:8080/juddiv3/services/inquiryRest/JSON/opInfo/uddi:juddi.apache.org:businesses-asf</a>
</li></ol></div>

</div>
<div class="section" title="9.1.2.5. xxxSearch"><div class="titlepage"><div><div><h4 class="title"><a id="_xxxsearch"/>9.1.2.5. xxxSearch</h4></div></div></div>

<p>Returns the search results for registered entities in XML or JSON using a number of query parameters.</p>
<p>Supported entities:
 . searchService
 . searchBusiness
 . searchTModel</p>
<p>Supported query parameters
 . name - Filters by the name element. If not specified, the wildcard symbol is used <span class="emphasis"><em>%</em></span>.
 . lang - Filters by language. If not specified, null is used.
 . findQualifiers - Adds sorting or additional find parameters. comma delimited. If not specified, <span class="emphasis"><em>approximateMatch</em></span> is used
 . maxrows - Maximum rows returned. If not specified, 100 is used.
 . offset - Offset for paging operations. If not specified, 0 is used.</p>
</div>
</div>
</div>
<div class="section" title="9.2. Example Output"><div class="titlepage"><div><div><h2 class="title"><a id="_example_output"/>9.2. Example Output</h2></div></div></div>

<div class="section" title="9.2.1. XML"><div class="titlepage"><div><div><h3 class="title"><a id="_xml"/>9.2.1. XML</h3></div></div></div>

<p>The output of all XML encoded messages is identical to the UDDI schema specifications. There should be no surprises.</p>
</div>
<div class="section" title="9.2.2. JSON"><div class="titlepage"><div><div><h3 class="title"><a id="_json"/>9.2.2. JSON</h3></div></div></div>

<p>The output of JSON encoded messages is obviously different than XML. The following is an example of what it looks like.</p>
<pre class="screen">{
    "businessEntity": {
        "@businessKey": "uddi:juddi.apache.org:businesses-asf",
        "discoveryURLs": {
            "discoveryURL": {
                "@useType": "homepage",
                "$": "http://localhost:8080/juddiv3"
            }
        },
        "name": {
            "@xml.lang": "en",
            "$": "An Apache jUDDI Node"
        },
        "description": {
            "@xml.lang": "en",
            "$": "This is a UDDI v3 registry node as implemented by Apache jUDDI."
        },
        "businessServices": {
            "businessService": [
                {
                    "@serviceKey": "uddi:juddi.apache.org:services-custodytransfer",
                    "@businessKey": "uddi:juddi.apache.org:businesses-asf",
                    "name": {
                        "@xml.lang": "en",
                        "$": "UDDI Custody and Ownership Transfer Service"
                    },
                    "description": {
                        "@xml.lang": "en",
                        "$": "Web Service supporting UDDI Custody and Ownership Transfer API"
                    },
                    "bindingTemplates": {
                        "bindingTemplate": [
                            {
                                "@bindingKey": "uddi:juddi.apache.org:servicebindings-custodytransfer-ws",
                                "@serviceKey": "uddi:juddi.apache.org:services-custodytransfer",
                                "description": "UDDI Custody and Ownership Transfer API V3",
                                "accessPoint": {
                                    "@useType": "wsdlDeployment",
                                    "$": "http://localhost:8080/juddiv3/services/custody-transfer?wsdl"
                                },
                                "tModelInstanceDetails": {
                                    "tModelInstanceInfo": {
                                        "@tModelKey": "uddi:uddi.org:v3_ownership_transfer",
                                        "instanceDetails": {
                                            "instanceParms": "\n                \n                &lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n                &lt;UDDIinstanceParmsContainer\n                 xmlns=\"urn:uddi-org:policy_v3_instanceParms\"&gt;\n                  &lt;authInfoUse&gt;required&lt;/authInfoUse&gt;\n                &lt;/UDDIinstanceParmsContainer&gt;\n                \n                "
                                        }
                                    }
                                },
                                "categoryBag": {
                                    "keyedReference": {
                                        "@tModelKey": "uddi:uddi.org:categorization:types",
                                        "@keyName": "uddi-org:types:wsdl",
                                        "@keyValue": "wsdlDeployment"
                                    }
                                }
                            },
                            {
                                "@bindingKey": "uddi:juddi.apache.org:servicebindings-custodytransfer-ws-ssl",
                                "@serviceKey": "uddi:juddi.apache.org:services-custodytransfer",
                                "description": "UDDI Custody and Ownership Transfer API V3 SSL",
                                "accessPoint": {
                                    "@useType": "wsdlDeployment",
                                    "$": "https://localhost:8443/juddiv3/services/custody-transfer?wsdl"
                                },
                                "tModelInstanceDetails": {
                                    "tModelInstanceInfo": [
                                        {
                                            "@tModelKey": "uddi:uddi.org:v3_ownership_transfer",
                                            "instanceDetails": {
                                                "instanceParms": "\n                \n                &lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n                &lt;UDDIinstanceParmsContainer\n                 xmlns=\"urn:uddi-org:policy_v3_instanceParms\"&gt;\n                  &lt;authInfoUse&gt;required&lt;/authInfoUse&gt;\n                &lt;/UDDIinstanceParmsContainer&gt;\n                \n                "
                                            }
                                        },
                                        {
                                            "@tModelKey": "uddi:uddi.org:protocol:serverauthenticatedssl3"
                                        }
                                    ]
                                },
                                "categoryBag": {
                                    "keyedReference": {
                                        "@tModelKey": "uddi:uddi.org:categorization:types",
                                        "@keyName": "uddi-org:types:wsdl",
                                        "@keyValue": "wsdlDeployment"
                                    }
                                }
                            }
                        ]
                    }
                }
            ]
        },
        "categoryBag": {
            "keyedReference": {
                "@tModelKey": "uddi:uddi.org:categorization:nodes",
                "@keyName": "",
                "@keyValue": "node"
            }
        }
    }
}
</pre>

</div>
</div>
<div class="section" title="9.3. More information"><div class="titlepage"><div><div><h2 class="title"><a id="_more_information"/>9.3. More information</h2></div></div></div>

<p>For more information, please check out the source code: <a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-rest-cxf/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-rest-cxf/</a></p>
</div>
</div>
<div class="chapter" title="Chapter 10. jUDDI Client for NET"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_client_for_net"/>Chapter 10. jUDDI Client for NET</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_procedure">10.1. Procedure</a></span></dt></dl></div>

<p>Since 3.2, the majority of the functions in the jUDDI Client for Java have been ported to .NET. This guide will show you how to use it and integrate it with your own .NET based applications.</p>
<div class="section" title="10.1. Procedure"><div class="titlepage"><div><div><h2 class="title"><a id="_procedure"/>10.1. Procedure</h2></div></div></div>

<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Add a reference to jUDDI-Client.NET.dll
</li><li class="listitem">
Add a reference to System.Web.Services
</li><li class="listitem">
Add a reference to System.ServiceModel
</li><li class="listitem">
Add a reference to System.Xml
</li><li class="listitem">
Add a reference to System.Runtime.Serialization
</li><li class="listitem">
Add a reference to System.Configuration
</li><li class="listitem">
Add a reference to System.Security
</li><li class="listitem">
Add a copy of the sample uddi.xml file. Modify it to meet your environment and operational needs.
</li><li class="listitem">
Note, many of the settings are identical to the Java jUDDI-client. The APIs are also nearly identical, so example code should be easily portable from one language to another.
</li></ol></div>

<p>Sample Code</p>
<pre class="screen">
/*
 * Copyright 2001-2013 The Apache Software Foundation.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
using org.apache.juddi.v3.client;
using org.apache.juddi.v3.client.config;
using org.apache.juddi.v3.client.transport;
using org.uddi.apiv3;
using System;
using System.Collections.Generic;
using System.Text;


namespace juddi_client.net_sample
{
    class Program
    {
        static void Main(string[] args)
        {
            UDDIClient clerkManager = new UDDIClient("uddi.xml");
            UDDIClientContainer.addClient(clerkManager);
            Transport transport = clerkManager.getTransport("default");

            org.uddi.apiv3.UDDI_Security_SoapBinding security = transport.getUDDISecurityService();
            org.uddi.apiv3.UDDI_Inquiry_SoapBinding inquiry = transport.getUDDIInquiryService();

            UDDIClerk clerk = clerkManager.getClerk("default");


            find_business fb = new find_business();
            fb.authInfo = clerk.getAuthToken(security.Url);
            fb.findQualifiers = new string[] { UDDIConstants.APPROXIMATE_MATCH };
            fb.name = new name[1];
            fb.name[0] = new name(UDDIConstants.WILDCARD, "en");
            businessList bl = inquiry.find_business(fb);
            for (int i = 0; i &lt; bl.businessInfos.Length; i++)
            {
                Console.WriteLine(bl.businessInfos[i].name[0].Value);
            }
            Console.Read();

        }
    }
}
</pre>

<p>The sample code above should print out a list of all businesses currently registered in the registry. If credentials are stored in the uddi.xml file and are encrypted, they will be decrypted automatically for you.</p>
<p>Within the jUDDI Source Tree, there are many different examples of how to use the jUDDI Client for .NET. They are available here: <a class="ulink" href="http://svn.apache.org/repos/asf/juddi/trunk/juddi-client.net/juddi-client.net-sample/">http://svn.apache.org/repos/asf/juddi/trunk/juddi-client.net/juddi-client.net-sample/</a></p>
</div>
</div>
<div class="chapter" title="Chapter 11. Using the UDDI Technology Compatibility Kit"><div class="titlepage"><div><div><h2 class="title"><a id="_using_the_uddi_technology_compatibility_kit"/>Chapter 11. Using the UDDI Technology Compatibility Kit</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_using_the_tck_runner">11.1. Using the TCK Runner</a></span></dt><dd><dl><dt><span class="section"><a href="#_configuration_2">11.1.1. Configuration</a></span></dt><dt><span class="section"><a href="#_running_the_tck_runner">11.1.2. Running the TCK Runner</a></span></dt></dl></dd><dt><span class="section"><a href="#_analyzing_the_results">11.2. Analyzing the Results</a></span></dt></dl></div>

<p>Since UDDI is a specification with many complex rules in it, we (the jUDDI team) have had to write test cases to exercise each of the rules and restrictions in UDDI. Knowing that there are a number of open source and commercial UDDI v3 implementations, the jUDDI team took this as an opportunity to create a reusable benchmark for testing the compatibility of UDDI v3 implementations.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>Although the TCK covers a large number of test cases, the UDDI specification is long and complex. It’s more than possible that we missed a few scenarios or test cases. If you run across any, please let us know.</p>
</div>

<div class="section" title="11.1. Using the TCK Runner"><div class="titlepage"><div><div><h2 class="title"><a id="_using_the_tck_runner"/>11.1. Using the TCK Runner</h2></div></div></div>

<p>The TCK Runner requires a few files to operate:</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
juddi-tck-runner-version.jar - This is the executable
</li><li class="listitem">
uddi.xml - This file sets the location of the UDDI services
</li><li class="listitem">
tck.properties - This file controls what tests are ran.
</li><li class="listitem">
truststore and keystore.jks - These files are for digital signature tests
</li></ol></div>

<div class="section" title="11.1.1. Configuration"><div class="titlepage"><div><div><h3 class="title"><a id="_configuration_2"/>11.1.1. Configuration</h3></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Edit the uddi.xml file and update all of the UDDI endpoint locations for all supported endpoints of UDDI server being tested. Ignore all credentials and other settings
</li><li class="listitem">
Edit tck.properties and update the usernames and passwords of the test users. Enable or disable tests based on the whether or not the UDDI server supports the optional listed capabilities.
</li></ul></div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Do not use usernames and passwords that already have data associated with it.</p>
</div>

<p>A few of the test cases, such as RMI transport, are not identified by the UDDI specification, therefore the results may be skewed if unsupported tests are attempted. In addition, the UDDI specification identifies a number of APIs and features that are considered optional.</p>
<p>Although it is possible to run the TCK against a UDDIv2 registry using the UDDIv2 transport adapters, this is not supported. The TCK’s test cases and rules apply to the business rules defined in UDDIv3. Unsupported and unmapped functions defined in UDDIv3 that are not supported in UDDIv2 fail ultimately fail.</p>
<div class="section" title="11.1.1.1. tck.properties"><div class="titlepage"><div><div><h4 class="title"><a id="_tck_properties"/>11.1.1.1. tck.properties</h4></div></div></div>

<p>The TCK properties file contains settings for all of the TCK tests.</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Credentials - You’ll need credentials for a number of user accounts
</li><li class="listitem">
jUDDI optional tests - If you’re running the tests against jUDDI, there’s a number of additional tests ran to exercise things like user accounts.
</li><li class="listitem">
Load testing - These settings enable you to tweak or disable the load testing.
</li><li class="listitem">
Key stores - These are needed to run the digital signature tests
</li><li class="listitem">
Supported transports - jUDDI supports a number of transports, such as RMI and HTTP (for UDDI service interaction) and SMTP and HTTP for subscription callbacks. RMI is actually not in the spec and SMTP is considered optional, so you’ll want to adjusted these based on the available documentation from the vendor.
</li></ol></div>

</div>
<div class="section" title="11.1.1.2. uddi.xml"><div class="titlepage"><div><div><h4 class="title"><a id="_uddi_xml"/>11.1.1.2. uddi.xml</h4></div></div></div>

<p>The only parts used from uddi.xml are the following</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
The endpoints of the UDDI services
</li><li class="listitem">
The client subscription callback settings
</li></ol></div>

</div>
</div>
<div class="section" title="11.1.2. Running the TCK Runner"><div class="titlepage"><div><div><h3 class="title"><a id="_running_the_tck_runner"/>11.1.2. Running the TCK Runner</h3></div></div></div>

<p>Executing the TCK runner is simple.</p>
<pre class="screen">java (options) -Duddi.client.xml=uddi.xml -jar juddi-tck-runner-{VERSION}-SNAPSHOT-jar-with-dependencies.jar</pre>

<p>Optional parameters</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
-Ddebug=true - this turns up the logging output, typically including the XML payloads of each message.
</li><li class="listitem">
-Duddi.client.xml=uddi.xml -  Use this file as the jUDDI Client config file. This specifies where all of the UDDI endpoints are.
</li><li class="listitem">
-Dtck.properties=file.properties - Use this to use an alternate tck properties file.
</li></ul></div>

</div>
</div>
<div class="section" title="11.2. Analyzing the Results"><div class="titlepage"><div><div><h2 class="title"><a id="_analyzing_the_results"/>11.2. Analyzing the Results</h2></div></div></div>

<p>There are two ways to identify the result of the tests.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Analyze the console output
</li><li class="listitem">
Review the test results in uddi-tck-results-[DateTime].txt
</li></ul></div>

<p>The results are summarized in the uddi-tck-results file along with the specific error conditions and stack traces that will enable you to find out the root cause of the failure. It may be necessary to obtain UDDI server logs to help with root cause identification.</p>
</div>
</div>
<div class="index" title="Index"><div class="titlepage"><div><div><h2 class="title"><a id="_index"/>Index</h2></div></div></div><div class="index"/></div>
</div></body></html>